"use strict";(self.webpackChunkstardust=self.webpackChunkstardust||[]).push([[360,960],{200:(t,i,s)=>{s.d(i,{R:()=>a});var e=s(112);class a{constructor(t){this.Ca=t}Bb(){(0,e.i)(this.ca)&&this.Oe()}ra(){(0,e.a)(this.ca)&&window.cancelAnimationFrame(this.ca),this.ca=void 0}Oe(){this.ca=window.requestAnimationFrame((()=>{(0,e.i)(this.ca)||(this.Ca(),this.Oe())}))}}},360:(t,i,s)=>{s.r(i),s.d(i,{HLSProvider:()=>u});var e=s(752),a=s(324),h=s(960),r=s(112),n=s(664),c=s(256),o=s(200);class d{constructor(t,i){this.m=t,this.b=i,this.g=null,this.nd=null,this.od={},this.pd=new Set,this.yk=-1}get instance(){return this.g}setup(t){const{streamType:i}=this.b.$state,s=(0,r.u)(i).includes("live"),e=(0,r.u)(i).includes("ll-");this.g=new t({lowLatencyMode:e,backBufferLength:e?4:s?8:void 0,renderTextTracksNatively:!1,...this.od});const a=this.Sg.bind(this);for(const h of Object.values(t.Events))this.g.on(h,a);this.g.on(t.Events.ERROR,this.U.bind(this));for(const h of this.pd)h(this.g);this.b.player.dispatch("hls-instance",{detail:this.g}),this.g.attachMedia(this.m),this.g.on(t.Events.FRAG_LOADING,this.Bk.bind(this)),this.g.on(t.Events.AUDIO_TRACK_SWITCHED,this.Tg.bind(this)),this.g.on(t.Events.LEVEL_SWITCHED,this.Ug.bind(this)),this.g.on(t.Events.LEVEL_LOADED,this.Vg.bind(this)),this.g.on(t.Events.NON_NATIVE_TEXT_TRACKS_FOUND,this.Wg.bind(this)),this.g.on(t.Events.CUES_PARSED,this.Xg.bind(this)),this.b.qualities[n.Q.Za]=this.Yg.bind(this),(0,r.l)(this.b.qualities,"change",this.fb.bind(this)),(0,r.l)(this.b.audioTracks,"change",this.Zg.bind(this)),this.nd=(0,r.e)(this._g.bind(this))}_g(){if(!this.b.$state.live())return;const t=new o.R(this.$g.bind(this));return t.Bb(),t.ra.bind(t)}$g(){var t,i;this.b.$state.liveSyncPosition.set(null!==(t=null===(i=this.g)||void 0===i?void 0:i.liveSyncPosition)&&void 0!==t?t:1/0)}Sg(t,i){var s,e;null===(s=this.b.player)||void 0===s||s.dispatch(new r.D((e=t,(0,r.L)(e)),{detail:i}))}Wg(t,i){const s=new r.D(t,{detail:i});let a=-1;for(let r=0;r<i.tracks.length;r++){var h;const t=i.tracks[r],n=null!==(h=t.subtitleTrack)&&void 0!==h?h:t.closedCaptions,c=new e.T({id:"hls-".concat(t.kind).concat(r),src:null===n||void 0===n?void 0:n.url,label:t.label,language:null===n||void 0===n?void 0:n.lang,kind:t.kind,default:t.default});c[e.b.M]=2,c[e.b.Ua]=()=>{"showing"===c.mode?(this.g.subtitleTrack=r,a=r):a===r&&(this.g.subtitleTrack=-1,a=-1)},this.b.textTracks.add(c,s)}}Xg(t,i){const s=this.b.textTracks.getById("hls-".concat(i.track));if(!s)return;const e=new r.D(t,{detail:i});for(const a of i.cues)a.positionAlign="auto",s.addCue(a,e)}Tg(t,i){const s=this.b.audioTracks[i.id];if(s){const e=new r.D(t,{detail:i});this.b.audioTracks[c.L.pa](s,!0,e)}}Ug(t,i){const s=this.b.qualities[i.level];if(s){const e=new r.D(t,{detail:i});this.b.qualities[c.L.pa](s,!0,e)}}Vg(t,i){if(this.b.$state.canPlay())return;const{type:s,live:e,totalduration:a,targetduration:h}=i.details,o=new r.D(t,{detail:i});this.b.delegate.c("stream-type-change",e?"EVENT"===s&&Number.isFinite(a)&&h>=10?"live:dvr":"live":"on-demand",o),this.b.delegate.c("duration-change",a,o);const d=this.g.media;-1===this.g.currentLevel&&this.b.qualities[n.Q.Ya](!0,o);for(const r of this.g.audioTracks){const t={id:r.id.toString(),label:r.name,language:r.lang||"",kind:"main"};this.b.audioTracks[c.L.oa](t,o)}for(const r of this.g.levels){var l,u;const t={id:null!==(l=null===(u=r.id)||void 0===u?void 0:u.toString())&&void 0!==l?l:r.height+"p",width:r.width,height:r.height,codec:r.codecSet,bitrate:r.bitrate};this.b.qualities[c.L.oa](t,o)}d.dispatchEvent(new r.D("canplay",{trigger:o}))}U(t,i){var s;if(i.fatal)switch(i.type){case"networkError":this.Ck(i.error);break;case"mediaError":null===(s=this.g)||void 0===s||s.recoverMediaError();break;default:this.Ak(i.error)}}Bk(){this.yk>=0&&this.zk()}Ck(t){var i;this.zk(),null===(i=this.g)||void 0===i||i.startLoad(),this.yk=window.setTimeout((()=>{this.yk=-1,this.Ak(t)}),5e3)}zk(){clearTimeout(this.yk),this.yk=-1}Ak(t){var i;null===(i=this.g)||void 0===i||i.destroy(),this.g=null,this.b.delegate.c("error",{message:t.message,code:1,error:t})}Yg(){this.g&&(this.g.currentLevel=-1)}fb(){const{qualities:t}=this.b;this.g&&!t.auto&&(this.g[t.switch+"Level"]=t.selectedIndex,a.I&&(this.m.currentTime=this.m.currentTime))}Zg(){const{audioTracks:t}=this.b;this.g&&this.g.audioTrack!==t.selectedIndex&&(this.g.audioTrack=t.selectedIndex)}Dk(t){var i;(0,r.r)(t.src)&&(this.zk(),null===(i=this.g)||void 0===i||i.loadSource(t.src))}ah(){var t,i;this.zk(),this.b&&(this.b.qualities[n.Q.Za]=void 0),null===(t=this.g)||void 0===t||t.destroy(),this.g=null,null===(i=this.nd)||void 0===i||i.call(this),this.nd=null}}class l{constructor(t,i,s){this.W=t,this.b=i,this.Ca=s,this.bh()}async bh(){const t={onLoadStart:this.Ea.bind(this),onLoaded:this.qd.bind(this),onLoadError:this.ch.bind(this)};let i=await async function(t){var i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.r)(t))return;null===(i=s.onLoadStart)||void 0===i||i.call(s);try{var a;if(await(0,e.l)(t),!(0,r.t)(window.Hls))throw Error("");const i=window.Hls;return null===(a=s.onLoaded)||void 0===a||a.call(s,i),i}catch(n){var h;null===(h=s.onLoadError)||void 0===h||h.call(s,n)}return}(this.W,t);if((0,r.i)(i)&&!(0,r.r)(this.W)&&(i=await async function(t){var i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,r.i)(t))return;if(null===(i=s.onLoadStart)||void 0===i||i.call(s),t.prototype&&t.prototype!==Function){var e;return null===(e=s.onLoaded)||void 0===e||e.call(s,t),t}try{var a;const i=null===(a=await t())||void 0===a?void 0:a.default;if(!i||!i.isSupported)throw Error("");var h;return null===(h=s.onLoaded)||void 0===h||h.call(s,i),i}catch(c){var n;null===(n=s.onLoadError)||void 0===n||n.call(s,c)}return}(this.W,t)),!i)return null;if(!i.isSupported()){const t="[vidstack] `hls.js` is not supported in this environment";return this.b.player.dispatch(new r.D("hls-unsupported")),this.b.delegate.c("error",{message:t,code:4}),null}return i}Ea(){this.b.player.dispatch(new r.D("hls-lib-load-start"))}qd(t){this.b.player.dispatch(new r.D("hls-lib-loaded",{detail:t})),this.Ca(t)}ch(t){const i=(0,n.c)(t);this.b.player.dispatch(new r.D("hls-lib-load-error",{detail:i})),this.b.delegate.c("error",{message:i.message,code:4,error:i})}}class u extends h.VideoProvider{constructor(){super(...arguments),this.$$PROVIDER_TYPE="HLS",this.Xe=null,this.d=new d(this.video,this.b),this.Gb="".concat("https://cdn.jsdelivr.net","/npm/hls.js@^1.5.0/dist/hls",".min.js")}get ctor(){return this.Xe}get instance(){return this.d.instance}get type(){return"hls"}get canLiveSync(){return!0}get config(){return this.d.od}set config(t){this.d.od=t}get library(){return this.Gb}set library(t){this.Gb=t}preconnect(){(0,r.r)(this.Gb)&&(0,e.p)(this.Gb)}setup(){super.setup(),new l(this.Gb,this.b,(t=>{this.Xe=t,this.d.setup(t),this.b.delegate.c("provider-setup",this);const i=(0,r.u)(this.b.$state.source);i&&this.loadSource(i)}))}async loadSource(t,i){(0,r.r)(t.src)&&(this.a.preload=i||"",this.yn(t),this.d.Dk(t),this.V=t)}yn(t){const i=this.video.querySelector("source[data-vds]"),s=null!==i&&void 0!==i?i:document.createElement("source");(0,r.k)(s,"src",t.src),(0,r.k)(s,"type","application/x-mpegurl"),(0,r.k)(s,"data-vds",""),i||this.video.append(s)}onInstance(t){const i=this.d.instance;return i&&t(i),this.d.pd.add(t),()=>this.d.pd.delete(t)}destroy(){this.d.ah()}}u.supported=(0,a.i)()},876:(t,i,s)=>{s.d(i,{c:()=>l});var e=s(788),a=s(112),h=s(200),r=s(968),n=s(324),c=s(256);class o{constructor(t,i){this.i=t,this.b=i,this.sa=(0,a.M)(),this.Cb=!1,this.$c=!1,this.ad=!1,this.Da=new h.R(this.bd.bind(this)),this.Qe=void 0,this.Dg=void 0,this.pg(),(0,a.e)(this.qg.bind(this)),(0,a.o)(this.cd.bind(this))}get a(){return this.i.media}get c(){return this.b.delegate.c}cd(){this.$c=!1,this.ad=!1,this.Da.ra(),this.sa.empty()}bd(){const t=this.a.currentTime;this.b.$state.realCurrentTime()!==t&&this.$a(t)}pg(){this.t("loadstart",this.Ea),this.t("abort",this.Pe),this.t("emptied",this.rg),this.t("error",this.U),this.t("volumechange",this.ab)}sg(){this.$c||(this.sa.add(this.t("loadeddata",this.tg),this.t("loadedmetadata",this.ug),this.t("canplay",this.hc),this.t("canplaythrough",this.vg),this.t("durationchange",this.wg),this.t("play",this.xb),this.t("progress",this.ic),this.t("stalled",this.xg),this.t("suspend",this.yg)),this.$c=!0)}zg(){this.ad||(this.sa.add(this.t("pause",this.Aa),this.t("playing",this.Ag),this.t("ratechange",this.Bg),this.t("seeked",this.bb),this.t("seeking",this.Cg),this.t("ended",this.Db),this.t("waiting",this.dd)),this.ad=!0)}t(t,i){return(0,a.l)(this.a,t,i.bind(this))}Eg(t){}$a(t,i){const s={currentTime:Math.min(t,this.b.$state.seekableEnd()),played:this.a.played};this.c("time-update",s,i)}Ea(t){3!==this.a.networkState?(this.sg(),this.c("load-start",void 0,t)):this.Pe(t)}Pe(t){this.c("abort",void 0,t)}rg(){this.c("emptied",void 0,event)}tg(t){this.c("loaded-data",void 0,t)}ug(t){this.zg(),this.c("loaded-metadata",void 0,t),n.h&&(0,e.f)(this.b.$state.source())&&this.b.delegate.jc(this.ed(),t)}ed(){return{provider:(0,a.u)(this.b.$provider),duration:this.a.duration,buffered:this.a.buffered,seekable:this.a.seekable}}xb(t){this.b.$state.canPlay&&this.c("play",void 0,t)}Aa(t){(1!==this.a.readyState||this.Cb)&&(this.Cb=!1,this.Da.ra(),this.c("pause",void 0,t))}hc(t){this.b.delegate.jc(this.ed(),t)}vg(t){this.b.$state.started()||this.c("can-play-through",this.ed(),t)}Ag(t){this.Cb=!1,this.c("playing",void 0,t),this.Da.Bb()}xg(t){this.c("stalled",void 0,t),this.a.readyState<3&&(this.Cb=!0,this.c("waiting",void 0,t))}dd(t){this.a.readyState<3&&(this.Cb=!0,this.c("waiting",void 0,t))}Db(t){if(this.Da.ra(),this.$a(this.a.duration,t),this.c("end",void 0,t),this.b.$state.loop()){(0,a.N)(this.a.controls)&&(this.a.controls=!1)}}qg(){this.b.$state.paused()&&(0,a.l)(this.a,"timeupdate",this.Eb.bind(this))}Eb(t){this.$a(this.a.currentTime,t)}wg(t){this.b.$state.ended()&&this.$a(this.a.duration,t),this.c("duration-change",this.a.duration,t)}ab(t){const i={volume:this.a.volume,muted:this.a.muted};this.c("volume-change",i,t)}bb(t){this.$a(this.a.currentTime,t),this.c("seeked",this.a.currentTime,t),Math.trunc(this.a.currentTime)===Math.trunc(this.a.duration)&&(0,r.g)(this.a.duration)>(0,r.g)(this.a.currentTime)&&(this.$a(this.a.duration,t),this.a.ended||this.b.player.dispatch(new a.D("media-play-request",{trigger:t})))}Cg(t){this.c("seeking",this.a.currentTime,t)}ic(t){const i={buffered:this.a.buffered,seekable:this.a.seekable};this.c("progress",i,t)}yg(t){this.c("suspend",void 0,t)}Bg(t){this.c("rate-change",this.a.playbackRate,t)}U(t){const i=this.a.error;if(!i)return;const s={message:i.message,code:i.code,mediaError:i};this.c("error",s,t)}}class d{constructor(t,i){this.i=t,this.b=i,this.Fb.onaddtrack=this.Fg.bind(this),this.Fb.onremovetrack=this.Gg.bind(this),this.Fb.onchange=this.Hg.bind(this),(0,a.l)(this.b.audioTracks,"change",this.Ig.bind(this))}get Fb(){return this.i.media.audioTracks}Fg(t){const i=t.track;if(""===i.label)return;const s={id:i.id.toString(),label:i.label,language:i.language,kind:i.kind,selected:!1};this.b.audioTracks[c.L.oa](s,t),i.enabled&&(s.selected=!0)}Gg(t){const i=this.b.audioTracks.getById(t.track.id);i&&this.b.audioTracks[c.L.Yb](i,t)}Hg(t){let i=this.Re();if(!i)return;const s=this.b.audioTracks.getById(i.id);s&&this.b.audioTracks[c.L.pa](s,!0,t)}Re(){return Array.from(this.Fb).find((t=>t.enabled))}Ig(t){const{current:i}=t.detail;if(!i)return;const s=this.Fb.getTrackById(i.id);if(s){const t=this.Re();t&&(t.enabled=!1),s.enabled=!0}}}class l{constructor(t,i){this.a=t,this.b=i,this.scope=(0,a.x)(),this.V=null}setup(){new o(this,this.b),"audioTracks"in this.media&&new d(this,this.b),(0,a.o)((()=>{this.a.setAttribute("src",""),this.a.load()}))}get type(){return""}get media(){return this.a}get currentSrc(){return this.V}setPlaybackRate(t){this.a.playbackRate=t}async play(){return this.a.play()}async pause(){return this.a.pause()}setMuted(t){this.a.muted=t}setVolume(t){this.a.volume=t}setCurrentTime(t){this.a.currentTime=t}setPlaysInline(t){(0,a.k)(this.a,"playsinline",t)}async loadSource(t,i){let{src:s,type:h}=t;this.a.preload=i||"",(0,e.g)(s)?this.a.srcObject=s:(this.a.srcObject=null,this.a.src=(0,a.r)(s)?this.Ik(s):window.URL.createObjectURL(s)),this.a.load(),this.V={src:s,type:h}}Ik(t){const{clipStartTime:i,clipEndTime:s}=this.b.$state,e=i(),a=s();return e>0&&a>0?"".concat(t,"#t=").concat(e,",").concat(a):e>0?"".concat(t,"#t=").concat(e):a>0?"".concat(t,"#t=0,").concat(a):t}}},960:(t,i,s)=>{s.r(i),s.d(i,{VideoProvider:()=>b});var e=s(112),a=s(324),h=s(876),r=s(752);class n{constructor(t,i){this.m=t,this.b=i,t.textTracks.onaddtrack=this.Wc.bind(this),(0,e.o)(this.cd.bind(this))}Wc(t){const i=t.track;if(!i||function(t,i){return Array.from(t.children).find((t=>t.track===i))}(this.m,i))return;const s=new r.T({id:i.id,kind:i.kind,label:i.label,language:i.language,type:"vtt"});s[r.b.T]={track:i},s[r.b.M]=2,s[r.b.te]=!0;let e=0;const a=t=>{if(i.cues)for(let a=e;a<i.cues.length;a++)s.addCue(i.cues[a],t),e++};a(t),i.oncuechange=a,this.b.textTracks.add(s,t),s.setMode(i.mode,t)}cd(){this.m.textTracks.onaddtrack=null;for(const i of this.b.textTracks){var t;const s=null===(t=i[r.b.T])||void 0===t?void 0:t.track;null!==s&&void 0!==s&&s.oncuechange&&(s.oncuechange=null)}}}class c{constructor(t,i){this.m=t,this.a=i,this.B=(t,i)=>{this.a.delegate.c("picture-in-picture-change",t,i)},(0,e.l)(this.m,"enterpictureinpicture",this.Jg.bind(this)),(0,e.l)(this.m,"leavepictureinpicture",this.Kg.bind(this))}get active(){return document.pictureInPictureElement===this.m}get supported(){return(0,a.e)(this.m)}async enter(){return this.m.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}Jg(t){this.B(!0,t)}Kg(t){this.B(!1,t)}}class o{constructor(t,i){this.m=t,this.a=i,this.I="inline",(0,e.l)(this.m,"webkitpresentationmodechanged",this.Ua.bind(this))}get Se(){return(0,a.f)(this.m)}async kc(t){this.I!==t&&this.m.webkitSetPresentationMode(t)}Ua(t){var i;const s=this.I;this.I=this.m.webkitPresentationMode,null===(i=this.a.player)||void 0===i||i.dispatch(new e.D("video-presentation-change",{detail:this.I,trigger:t})),["fullscreen","picture-in-picture"].forEach((i=>{this.I!==i&&s!==i||this.a.delegate.c("".concat(i,"-change"),this.I===i,t)}))}}class d{constructor(t){this.fa=t}get active(){return"fullscreen"===this.fa.I}get supported(){return this.fa.Se}async enter(){this.fa.kc("fullscreen")}async exit(){this.fa.kc("inline")}}class l{constructor(t){this.fa=t}get active(){return"picture-in-picture"===this.fa.I}get supported(){return this.fa.Se}async enter(){this.fa.kc("picture-in-picture")}async exit(){this.fa.kc("inline")}}class u{constructor(t,i){this.m=t,this.b=i,this.Se=(0,e.m)(!1),this.Hm()}get supported(){return this.Se()}Hm(){this.m.remote&&this.sl&&(this.m.remote.watchAvailability((t=>{this.Se.set(t)})).catch((()=>{this.Se.set(!1)})),(0,e.e)(this.rn.bind(this)))}rn(){if(!this.Se())return;const t=["connecting","connect","disconnect"],i=this.Rg.bind(this);i(),(0,e.l)(this.m,"playing",i);for(const s of t)(0,e.l)(this.m.remote,s,i)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.vb&&this.m.webkitShowPlaybackTargetPicker?this.m.webkitShowPlaybackTargetPicker():this.m.remote.prompt()}Rg(t){const i=this.m.remote.state;if(i===this.mc)return;const s={type:this.vb,state:i};this.b.delegate.c("remote-playback-change",s,t),this.mc=i}}class g extends u{constructor(){super(...arguments),this.vb="airplay"}get sl(){return"WebKitPlaybackTargetAvailabilityEvent"in window}}class b extends h.c{constructor(t,i){super(t,i),this.$$PROVIDER_TYPE="VIDEO",(0,e.s)((()=>{if(this.airPlay=new g(t,i),(0,a.f)(t)){const s=new o(t,i);this.fullscreen=new d(s),this.pictureInPicture=new l(s)}else(0,a.e)(t)&&(this.pictureInPicture=new c(t,i))}),this.scope)}get type(){return"video"}setup(){super.setup(),(0,a.c)(this.video)&&new n(this.video,this.b),this.b.textRenderers.Fe(this.video),(0,e.o)((()=>{this.b.textRenderers.Fe(null)})),"video"===this.type&&this.b.delegate.c("provider-setup",this)}get video(){return this.a}}}}]);
//# sourceMappingURL=360.f8b2a7ba.chunk.js.map