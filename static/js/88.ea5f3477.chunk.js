"use strict";(self.webpackChunkstardust=self.webpackChunkstardust||[]).push([[88,276],{276:(t,e,i)=>{i.d(e,{getVimeoVideoInfo:()=>n,resolveVimeoVideoId:()=>r});const s=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:\?hash=(.*))?/,a=new Map,h=new Map;function r(t){const e=t.match(s);return{videoId:null===e||void 0===e?void 0:e[1],hash:null===e||void 0===e?void 0:e[2]}}async function n(t,e){if(a.has(t))return a.get(t);if(h.has(t))return h.get(t);const i="https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/".concat(t),s=window.fetch(i,{mode:"cors",signal:e.signal}).then((t=>t.json())).then((e=>{var i,s,h;const r=null===e||void 0===e||null===(i=e.thumbnail_url)||void 0===i||null===(i=i.match(/vimeocdn.com\/video\/(.*)?_/))||void 0===i?void 0:i[1],n=r?"https://i.vimeocdn.com/video/".concat(r,"_1920x1080.webp"):"",o={title:null!==(s=null===e||void 0===e?void 0:e.title)&&void 0!==s?s:"",duration:null!==(h=null===e||void 0===e?void 0:e.duration)&&void 0!==h?h:0,poster:n,pro:"basic"!==e.account_type};return a.set(t,o),o})).finally((()=>h.delete(t)));return h.set(t,s),s}},200:(t,e,i)=>{i.d(e,{R:()=>a});var s=i(112);class a{constructor(t){this.Ca=t}Bb(){(0,s.i)(this.ca)&&this.Oe()}ra(){(0,s.a)(this.ca)&&window.cancelAnimationFrame(this.ca),this.ca=void 0}Oe(){this.ca=window.requestAnimationFrame((()=>{(0,s.i)(this.ca)||(this.Ca(),this.Oe())}))}}},204:(t,e,i)=>{i.d(e,{E:()=>r,t:()=>h});var s=i(112),a=i(752);function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const i=(0,s.A)();return setTimeout((()=>{const e=t();e&&i.reject(e)}),e),i}class r{constructor(t){this.db=t,this.cb=(0,s.m)(""),this.referrerPolicy=null,t.setAttribute("frameBorder","0"),t.setAttribute("aria-hidden","true"),t.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&t.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return this.db}setup(){(0,s.l)(window,"message",this.Lg.bind(this)),(0,s.l)(this.db,"load",this.lc.bind(this)),(0,s.e)(this.fd.bind(this))}fd(){const t=this.cb();if(!t.length)return void this.db.setAttribute("src","");const e=(0,s.u)((()=>this.Te()));this.db.setAttribute("src",(0,a.a)(t,e))}gd(t,e){var i;null===(i=this.db.contentWindow)||void 0===i||i.postMessage(JSON.stringify(t),null!==e&&void 0!==e?e:"*")}Lg(t){var e;const i=this.eb();if((null===t.source||t.source===(null===(e=this.db)||void 0===e?void 0:e.contentWindow))&&(!(0,s.r)(i)||i===t.origin)){try{const e=JSON.parse(t.data);return void(e&&this.hd(e,t))}catch(a){}t.data&&this.hd(t.data,t)}}}},88:(t,e,i)=>{i.r(e),i.d(e,{VimeoProvider:()=>u});var s=i(112),a=i(168),h=i(752),r=i(256),n=i(664),o=i(200),c=i(204),l=i(276);const d=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"];class u extends c.E{constructor(t,e){super(t),this.b=e,this.$$PROVIDER_TYPE="VIMEO",this.scope=(0,s.x)(),this.Fa=0,this.Ga=new a.T(0,0),this.Hb=new a.T(0,0),this.E=null,this.G=null,this.rd=null,this.N=(0,s.m)(""),this.oc=(0,s.m)(!1),this.sd=null,this.V=null,this.eh=null,this.Da=new o.R(this.bd.bind(this)),this.Zk=null,this.cookies=!1,this.title=!0,this.byline=!0,this.portrait=!0,this.color="00ADEF",this.qn=!1}get c(){return this.b.delegate.c}get type(){return"vimeo"}get currentSrc(){return this.V}get videoId(){return this.N()}get hash(){return this.sd}get isPro(){return this.oc()}preconnect(){(0,h.p)(this.eb())}setup(){super.setup(),(0,s.e)(this.kd.bind(this)),(0,s.e)(this.fh.bind(this)),(0,s.e)(this.gh.bind(this)),this.c("provider-setup",this)}destroy(){this.H(),this.q("destroy")}async play(){const{paused:t}=this.b.$state;return this.E||(this.E=(0,c.t)((()=>{if(this.E=null,t())return"Timed out."})),this.q("play")),this.E.promise}async pause(){const{paused:t}=this.b.$state;return this.G||(this.G=(0,c.t)((()=>{if(this.G=null,!t())return"Timed out."})),this.q("pause")),this.G.promise}setMuted(t){this.q("setMuted",t)}setCurrentTime(t){this.q("seekTo",t),this.c("seeking",t)}setVolume(t){this.q("setVolume",t),this.q("setMuted",(0,s.u)(this.b.$state.muted))}setPlaybackRate(t){this.q("setPlaybackRate",t)}async loadSource(t){if(!(0,s.r)(t.src))return this.V=null,this.sd=null,void this.N.set("");const{videoId:e,hash:i}=(0,l.resolveVimeoVideoId)(t.src);this.N.set(null!==e&&void 0!==e?e:""),this.sd=null!==i&&void 0!==i?i:null,this.V=t}kd(){this.H();const t=this.N();t?(this.cb.set("".concat(this.eb(),"/video/").concat(t)),this.c("load-start")):this.cb.set("")}fh(){const t=this.N();if(!t)return;const e=(0,s.A)(),i=new AbortController;return this.rd=e,(0,l.getVimeoVideoInfo)(t,i).then((t=>{e.resolve(t)})).catch((i=>{e.reject(),this.c("error",{message:"Failed to fetch vimeo video info for id `".concat(t,"`."),code:1,error:(0,n.c)(i)})})),()=>{e.reject(),i.abort()}}gh(){const t=this.oc(),{$state:e,qualities:i}=this.b;if(e.canSetPlaybackRate.set(t),i[r.L.Mc](!t),t)return(0,s.l)(i,"change",(()=>{var t;if(i.auto)return;const e=null===(t=i.selected)||void 0===t?void 0:t.id;e&&this.q("setQuality",e)}))}eb(){return"https://player.vimeo.com"}Te(){const{$iosControls:t}=this.b,{keyDisabled:e}=this.b.$props,{controls:i,playsInline:s}=this.b.$state,a=i()||t();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:a,h:this.hash,keyboard:a&&!e(),transparent:!0,playsinline:s(),dnt:!this.cookies}}bd(){this.q("getCurrentTime")}Eb(t,e){if(this.qn&&0===t)return;const{realCurrentTime:i,realDuration:s,paused:a,bufferedEnd:h}=this.b.$state;if(i()===t)return;const r=i(),n={currentTime:t,played:this.cm(t)};this.c("time-update",n,e),Math.abs(r-t)>1.5&&(this.c("seeking",t,e),!a()&&h()<t&&this.c("waiting",void 0,e)),s()-t<.01&&(this.c("end",void 0,e),this.qn=!0,setTimeout((()=>{this.qn=!1}),500))}cm(t){return this.Fa>=t?this.Ga:this.Ga=new a.T(0,this.Fa=t)}bb(t,e){this.c("seeked",t,e)}md(t){var e;const i=this.N();null===(e=this.rd)||void 0===e||e.promise.then((e=>{if(!e)return;const{title:i,poster:s,duration:h,pro:r}=e,{$iosControls:n}=this.b,{controls:o}=this.b.$state,c=o()||n();this.oc.set(r),this.Hb=new a.T(0,h),this.c("title-change",i,t),this.c("poster-change",s,t),this.c("duration-change",h,t);const l={buffered:new a.T(0,0),seekable:this.Hb,duration:h};this.b.delegate.jc(l,t),c||this.q("_hideOverlay"),this.q("getQualities"),this.q("getChapters")})).catch((t=>{i===this.N()&&this.c("error",{message:"Failed to fetch oembed data",code:2,error:(0,n.c)(t)})}))}hh(t,e,i){switch(t){case"getCurrentTime":this.Eb(e,i);break;case"getBuffered":(0,s.q)(e)&&e.length&&this.Ye(e[e.length-1][1],i);break;case"setMuted":this.ab((0,s.u)(this.b.$state.volume),e,i);break;case"getChapters":this.Yk(e);break;case"getQualities":this.pc(e,i)}}ih(){for(const t of d)this.q("addEventListener",t)}Aa(t){var e;this.Da.ra(),this.c("pause",void 0,t),null===(e=this.G)||void 0===e||e.resolve(),this.G=null}xb(t){var e;this.Da.Bb(),this.c("play",void 0,t),null===(e=this.E)||void 0===e||e.resolve(),this.E=null}jh(t){const{paused:e}=this.b.$state;e()||this.c("playing",void 0,t)}Ye(t,e){const i={buffered:new a.T(0,t),seekable:this.Hb};this.c("progress",i,e)}kh(t){this.c("waiting",void 0,t)}lh(t){const{paused:e}=this.b.$state;e()||this.c("playing",void 0,t)}dd(t){const{paused:e}=this.b.$state;e()&&this.c("play",void 0,t),this.c("waiting",void 0,t)}ab(t,e,i){const s={volume:t,muted:e};this.c("volume-change",s,i)}Yk(t){if(this._k(),!t.length)return;const e=new h.T({kind:"chapters",default:!0}),{realDuration:i}=this.b.$state;for(let a=0;a<t.length;a++){var s;const h=t[a],r=t[a+1];e.addCue(new window.VTTCue(h.startTime,null!==(s=null===r||void 0===r?void 0:r.startTime)&&void 0!==s?s:i(),h.title))}this.Zk=e,this.b.textTracks.add(e)}_k(){this.Zk&&(this.b.textTracks.remove(this.Zk),this.Zk=null)}pc(t,e){this.b.qualities[n.Q.Za]=t.some((t=>"auto"===t.id))?()=>{this.q("setQuality","auto")}:void 0;for(const i of t){if("auto"===i.id)continue;const t=+i.id.slice(0,-1);isNaN(t)||this.b.qualities[r.L.oa]({id:i.id,width:t*(16/9),height:t,codec:"avc1,h.264",bitrate:-1},e)}this.fb(t.find((t=>t.active)),e)}fb(){let{id:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!t)return;const i="auto"===t,s=this.b.qualities.toArray().find((e=>e.id===t));i?(this.b.qualities[n.Q.Ya](i,e),this.b.qualities[r.L.pa](void 0,!0,e)):this.b.qualities[r.L.pa](s,!0,e)}mh(t,e,i){switch(t){case"ready":this.ih();break;case"loaded":this.md(i);break;case"play":this.xb(i);break;case"playProgress":this.jh(i);break;case"pause":this.Aa(i);break;case"loadProgress":this.Ye(e.seconds,i);break;case"waiting":this.dd(i);break;case"bufferstart":this.kh(i);break;case"bufferend":this.lh(i);break;case"volumechange":this.ab(e.volume,(0,s.u)(this.b.$state.muted),i);break;case"durationchange":this.Hb=new a.T(0,e.duration),this.c("duration-change",e.duration,i);break;case"playbackratechange":this.c("rate-change",e.playbackRate,i);break;case"qualitychange":this.fb(e,i);break;case"fullscreenchange":this.c("fullscreen-change",e.fullscreen,i);break;case"enterpictureinpicture":this.c("picture-in-picture-change",!0,i);break;case"leavepictureinpicture":this.c("picture-in-picture-change",!1,i);break;case"ended":this.c("end",void 0,i);break;case"error":this.U(e,i);break;case"seek":case"seeked":this.bb(e.seconds,i)}}U(t,e){var i;("setPlaybackRate"===t.method&&this.oc.set(!1),"play"!==t.method)||(null===(i=this.E)||void 0===i||i.reject(t.message))}hd(t,e){t.event?this.mh(t.event,t.data,e):t.method&&this.hh(t.method,t.value,e)}lc(){}q(t,e){return this.gd({method:t,value:e})}H(){this.Da.ra(),this.Fa=0,this.Ga=new a.T(0,0),this.Hb=new a.T(0,0),this.E=null,this.G=null,this.rd=null,this.eh=null,this.oc.set(!1),this._k()}}}}]);
//# sourceMappingURL=88.ea5f3477.chunk.js.map