{"version":3,"file":"static/js/360.f8b2a7ba.chunk.js","mappings":"oIAEA,MAAMA,EACJC,WAAAA,CAAYC,GACVC,KAAKC,GAAKF,CACZ,CACAG,EAAAA,IACOC,EAAAA,EAAAA,GAAYH,KAAKI,KAEtBJ,KAAKK,IACP,CACAC,EAAAA,IACMC,EAAAA,EAAAA,GAASP,KAAKI,KAChBI,OAAOC,qBAAqBT,KAAKI,IACnCJ,KAAKI,QAAK,CACZ,CACAC,EAAAA,GACEL,KAAKI,GAAKI,OAAOE,uBAAsB,MACjCP,EAAAA,EAAAA,GAAYH,KAAKI,MAErBJ,KAAKC,KACLD,KAAKK,KAAI,GAEb,E,qHCXF,MAAMM,EACJb,WAAAA,CAAYc,EAAQC,GAClBb,KAAKc,EAAIF,EACTZ,KAAKe,EAAIF,EACTb,KAAKgB,EAAI,KACThB,KAAKiB,GAAK,KACVjB,KAAKkB,GAAK,CAAC,EACXlB,KAAKmB,GAAqB,IAAIC,IAC9BpB,KAAKqB,IAAM,CACb,CACA,YAAIC,GACF,OAAOtB,KAAKgB,CACd,CACAO,KAAAA,CAAMC,GACJ,MAAM,WAAEC,GAAezB,KAAKe,EAAEW,OACxBC,GAASC,EAAAA,EAAAA,GAAKH,GAAYI,SAAS,QAASC,GAAmBF,EAAAA,EAAAA,GAAKH,GAAYI,SAAS,OAC/F7B,KAAKgB,EAAI,IAAIQ,EAAK,CAChBO,eAAgBD,EAChBE,iBAAkBF,EAAmB,EAAIH,EAAS,OAAI,EACtDM,0BAA0B,KACvBjC,KAAKkB,KAEV,MAAMgB,EAAalC,KAAKmC,GAAGC,KAAKpC,MAChC,IAAK,MAAMqC,KAASC,OAAOC,OAAOf,EAAKgB,QACrCxC,KAAKgB,EAAEyB,GAAGJ,EAAOH,GACnBlC,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOE,MAAO1C,KAAK2C,EAAEP,KAAKpC,OACzC,IAAK,MAAM4C,KAAY5C,KAAKmB,GAC1ByB,EAAS5C,KAAKgB,GAChBhB,KAAKe,EAAE8B,OAAOC,SAAS,eAAgB,CACrCC,OAAQ/C,KAAKgB,IAEfhB,KAAKgB,EAAEgC,YAAYhD,KAAKc,GACxBd,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOS,aAAcjD,KAAKkD,GAAGd,KAAKpC,OACjDA,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOW,qBAAsBnD,KAAKoD,GAAGhB,KAAKpC,OACzDA,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOa,eAAgBrD,KAAKsD,GAAGlB,KAAKpC,OACnDA,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOe,aAAcvD,KAAKwD,GAAGpB,KAAKpC,OACjDA,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOiB,6BAA8BzD,KAAK0D,GAAGtB,KAAKpC,OACjEA,KAAKgB,EAAEyB,GAAGjB,EAAKgB,OAAOmB,YAAa3D,KAAK4D,GAAGxB,KAAKpC,OAChDA,KAAKe,EAAE8C,UAAUC,EAAAA,EAAcC,IAAM/D,KAAKgE,GAAG5B,KAAKpC,OAClDiE,EAAAA,EAAAA,GAAYjE,KAAKe,EAAE8C,UAAW,SAAU7D,KAAKkE,GAAG9B,KAAKpC,QACrDiE,EAAAA,EAAAA,GAAYjE,KAAKe,EAAEoD,YAAa,SAAUnE,KAAKoE,GAAGhC,KAAKpC,OACvDA,KAAKiB,IAAKoD,EAAAA,EAAAA,GAAOrE,KAAKsE,GAAGlC,KAAKpC,MAChC,CACAsE,EAAAA,GACE,IAAKtE,KAAKe,EAAEW,OAAO6C,OACjB,OACF,MAAMC,EAAM,IAAI3E,EAAAA,EAAQG,KAAKyE,GAAGrC,KAAKpC,OAErC,OADAwE,EAAItE,KACGsE,EAAIlE,GAAG8B,KAAKoC,EACrB,CACAC,EAAAA,GAAK,IAAAC,EAAAC,EACH3E,KAAKe,EAAEW,OAAOkD,iBAAiBC,IAA4B,QAAzBH,EAAO,QAAPC,EAAC3E,KAAKgB,SAAC,IAAA2D,OAAA,EAANA,EAAQC,wBAAgB,IAAAF,EAAAA,EAAII,IACjE,CACA3C,EAAAA,CAAG4C,EAAWhC,GAAQ,IAAAiC,EAtDAC,EAuDP,QAAbD,EAAAhF,KAAKe,EAAE8B,cAAM,IAAAmC,GAAbA,EAAelC,SAAS,IAAIoC,EAAAA,GAvDRD,EAuDgCF,GAvDvBI,EAAAA,EAAAA,GAAiBF,IAuDkB,CAAElC,WACpE,CACAW,EAAAA,CAAGqB,EAAWK,GACZ,MAAM/C,EAAQ,IAAI6C,EAAAA,EAASH,EAAW,CAAEhC,OAAQqC,IAChD,IAAIC,GAAgB,EACpB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAOC,OAAQF,IAAK,KAAAG,EAC3C,MAAMC,EAAiBN,EAAKG,OAAOD,GAAIK,EAAmC,QAA/BF,EAAGC,EAAeE,qBAAa,IAAAH,EAAAA,EAAIC,EAAeG,eAAgBC,EAAQ,IAAIC,EAAAA,EAAU,CACjIC,GAAI,OAAFC,OAASP,EAAeQ,MAAID,OAAGX,GACjCa,IAAS,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMS,IACXC,MAAOX,EAAeW,MACtBC,SAAc,OAAJX,QAAI,IAAJA,OAAI,EAAJA,EAAMY,KAChBL,KAAMR,EAAeQ,KACrBM,QAASd,EAAec,UAE1BV,EAAMW,EAAAA,EAAgBC,GAAK,EAC3BZ,EAAMW,EAAAA,EAAgBE,IAAM,KACP,YAAfb,EAAMc,MACR5G,KAAKgB,EAAE4E,cAAgBN,EACvBD,EAAeC,GACND,IAAiBC,IAC1BtF,KAAKgB,EAAE4E,eAAiB,EACxBP,GAAgB,EAClB,EAEFrF,KAAKe,EAAE8F,WAAWC,IAAIhB,EAAOzD,EAC/B,CACF,CACAuB,EAAAA,CAAGmB,EAAWK,GACZ,MAAMU,EAAQ9F,KAAKe,EAAE8F,WAAWE,QAAQ,OAADd,OAAQb,EAAKU,QACpD,IAAKA,EACH,OACF,MAAMzD,EAAQ,IAAI6C,EAAAA,EAASH,EAAW,CAAEhC,OAAQqC,IAChD,IAAK,MAAM4B,KAAO5B,EAAK6B,KACrBD,EAAIE,cAAgB,OACpBpB,EAAMqB,OAAOH,EAAK3E,EAEtB,CACAe,EAAAA,CAAG2B,EAAWK,GACZ,MAAMU,EAAQ9F,KAAKe,EAAEoD,YAAYiB,EAAKY,IACtC,GAAIF,EAAO,CACT,MAAMsB,EAAU,IAAIlC,EAAAA,EAASH,EAAW,CAAEhC,OAAQqC,IAClDpF,KAAKe,EAAEoD,YAAYkD,EAAAA,EAAWC,IAAIxB,GAAO,EAAMsB,EACjD,CACF,CACA9D,EAAAA,CAAGyB,EAAWK,GACZ,MAAMmC,EAAUvH,KAAKe,EAAE8C,UAAUuB,EAAKoC,OACtC,GAAID,EAAS,CACX,MAAMH,EAAU,IAAIlC,EAAAA,EAASH,EAAW,CAAEhC,OAAQqC,IAClDpF,KAAKe,EAAE8C,UAAUwD,EAAAA,EAAWC,IAAIC,GAAS,EAAMH,EACjD,CACF,CACA5D,EAAAA,CAAGuB,EAAWK,GACZ,GAAIpF,KAAKe,EAAEW,OAAO+F,UAChB,OACF,MAAM,KAAExC,EAAI,KAAEV,EAAMmD,cAAeC,EAAQ,eAAEC,GAAmBxC,EAAKyC,QAAST,EAAU,IAAIlC,EAAAA,EAASH,EAAW,CAAEhC,OAAQqC,IAC1HpF,KAAKe,EAAE+G,SAASC,EACd,qBACAxD,EAAgB,UAATU,GAAoB+C,OAAOC,SAASN,IAAaC,GAAkB,GAAK,WAAa,OAAS,YACrGR,GAEFpH,KAAKe,EAAE+G,SAASC,EAAE,kBAAmBJ,EAAUP,GAC/C,MAAMc,EAAQlI,KAAKgB,EAAEkH,OACQ,IAAzBlI,KAAKgB,EAAEmH,cACTnI,KAAKe,EAAE8C,UAAUC,EAAAA,EAAcsE,KAAI,EAAMhB,GAE3C,IAAK,MAAMiB,KAAerI,KAAKgB,EAAEmD,YAAa,CAC5C,MAAMmE,EAAa,CACjBtC,GAAIqC,EAAYrC,GAAGuC,WACnBlC,MAAOgC,EAAYG,KACnBlC,SAAU+B,EAAY9B,MAAQ,GAC9BL,KAAM,QAERlG,KAAKe,EAAEoD,YAAYkD,EAAAA,EAAWoB,IAAIH,EAAYlB,EAChD,CACA,IAAK,MAAMI,KAASxH,KAAKgB,EAAE0H,OAAQ,KAAAC,EAAAC,EACjC,MAAMC,EAAe,CACnB7C,GAAwB,QAAtB2C,EAAU,QAAVC,EAAEpB,EAAMxB,UAAE,IAAA4C,OAAA,EAARA,EAAUL,kBAAU,IAAAI,EAAAA,EAAInB,EAAMsB,OAAS,IAC3CC,MAAOvB,EAAMuB,MACbD,OAAQtB,EAAMsB,OACdE,MAAOxB,EAAMyB,SACbC,QAAS1B,EAAM0B,SAEjBlJ,KAAKe,EAAE8C,UAAUwD,EAAAA,EAAWoB,IAAII,EAAczB,EAChD,CACAc,EAAMiB,cAAc,IAAIjE,EAAAA,EAAS,UAAW,CAAEkC,YAChD,CACAzE,CAAAA,CAAEoC,EAAWK,GAAM,IAAAgE,EACjB,GAAIhE,EAAKiE,MACP,OAAQjE,EAAKH,MACX,IAAK,eACHjF,KAAKsJ,GAAGlE,EAAKmE,OACb,MACF,IAAK,aACG,QAANH,EAAApJ,KAAKgB,SAAC,IAAAoI,GAANA,EAAQI,oBACR,MACF,QACExJ,KAAKyJ,GAAGrE,EAAKmE,OAIrB,CACArG,EAAAA,GACMlD,KAAKqB,IAAM,GACbrB,KAAK0J,IACT,CACAJ,EAAAA,CAAGC,GAAO,IAAAI,EACR3J,KAAK0J,KACC,QAANC,EAAA3J,KAAKgB,SAAC,IAAA2I,GAANA,EAAQC,YACR5J,KAAKqB,GAAKb,OAAOqJ,YAAW,KAC1B7J,KAAKqB,IAAM,EACXrB,KAAKyJ,GAAGF,EAAM,GACb,IACL,CACAG,EAAAA,GACEI,aAAa9J,KAAKqB,IAClBrB,KAAKqB,IAAM,CACb,CACAoI,EAAAA,CAAGF,GAAO,IAAAQ,EACF,QAANA,EAAA/J,KAAKgB,SAAC,IAAA+I,GAANA,EAAQC,UACRhK,KAAKgB,EAAI,KACThB,KAAKe,EAAE+G,SAASC,EAAE,QAAS,CACzBkC,QAASV,EAAMU,QACfC,KAAM,EACNX,SAEJ,CACAvF,EAAAA,GACMhE,KAAKgB,IACPhB,KAAKgB,EAAEmH,cAAgB,EAC3B,CACAjE,EAAAA,GACE,MAAM,UAAEL,GAAc7D,KAAKe,EACtBf,KAAKgB,IAAK6C,EAAUsG,OAEzBnK,KAAKgB,EAAE6C,EAAUuG,OAAS,SAAWvG,EAAUwG,cAC3CC,EAAAA,IACFtK,KAAKc,EAAEyJ,YAAcvK,KAAKc,EAAEyJ,aAChC,CACAnG,EAAAA,GACE,MAAM,YAAED,GAAgBnE,KAAKe,EACzBf,KAAKgB,GAAKhB,KAAKgB,EAAEwJ,aAAerG,EAAYkG,gBAC9CrK,KAAKgB,EAAEwJ,WAAarG,EAAYkG,cAEpC,CACAI,EAAAA,CAAGtE,GAAK,IAAAuE,GACDC,EAAAA,EAAAA,GAASxE,EAAIA,OAElBnG,KAAK0J,KACC,QAANgB,EAAA1K,KAAKgB,SAAC,IAAA0J,GAANA,EAAQE,WAAWzE,EAAIA,KACzB,CACA0E,EAAAA,GAAK,IAAAC,EAAAC,EACH/K,KAAK0J,KACD1J,KAAKe,IACPf,KAAKe,EAAE8C,UAAUC,EAAAA,EAAcC,SAAM,GACjC,QAAN+G,EAAA9K,KAAKgB,SAAC,IAAA8J,GAANA,EAAQd,UACRhK,KAAKgB,EAAI,KACF,QAAP+J,EAAA/K,KAAKiB,UAAE,IAAA8J,GAAPA,EAAAC,KAAAhL,MACAA,KAAKiB,GAAK,IACZ,EAGF,MAAMgK,EACJnL,WAAAA,CAAYoL,EAAMrK,EAAMd,GACtBC,KAAKmL,EAAID,EACTlL,KAAKe,EAAIF,EACTb,KAAKC,GAAKF,EACVC,KAAKoL,IACP,CACA,QAAMA,GACJ,MAAMC,EAAY,CAChBC,YAAatL,KAAKuL,GAAGnJ,KAAKpC,MAC1BwL,SAAUxL,KAAKyL,GAAGrJ,KAAKpC,MACvB0L,YAAa1L,KAAK2L,GAAGvJ,KAAKpC,OAE5B,IAAIwB,QA6DRoK,eAA6BzF,GAAqB,IAAA0F,EAAA,IAAhBR,EAASS,UAAAtG,OAAA,QAAAuG,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC7C,KAAKnB,EAAAA,EAAAA,GAASxE,GACZ,OACmB,QAArB0F,EAAAR,EAAUC,mBAAW,IAAAO,GAArBA,EAAAb,KAAAK,GACA,IAAI,IAAAW,EAEF,SADMC,EAAAA,EAAAA,GAAW9F,KACZ+F,EAAAA,EAAAA,GAAW1L,OAAO2L,KACrB,MAAMC,MAC+F,IAGvG,MAAM5K,EAAOhB,OAAO2L,IAEpB,OADkB,QAAlBH,EAAAX,EAAUG,gBAAQ,IAAAQ,GAAlBA,EAAAhB,KAAAK,EAAqB7J,GACdA,CACT,CAAE,MAAO6K,GAAK,IAAAC,EACS,QAArBA,EAAAjB,EAAUK,mBAAW,IAAAY,GAArBA,EAAAtB,KAAAK,EAAwBgB,EAC1B,CACA,MACF,CA/EqBE,CAAcvM,KAAKmL,EAAGE,GAGvC,IAFIlL,EAAAA,EAAAA,GAAYqB,MAAUmJ,EAAAA,EAAAA,GAAS3K,KAAKmL,KACtC3J,QAoCNoK,eAAyBY,GAAwB,IAAAC,EAAA,IAAhBpB,EAASS,UAAAtG,OAAA,QAAAuG,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC5C,IAAI3L,EAAAA,EAAAA,GAAYqM,GACd,OAEF,GADqB,QAArBC,EAAApB,EAAUC,mBAAW,IAAAmB,GAArBA,EAAAzB,KAAAK,GACImB,EAAOE,WAAaF,EAAOE,YAAcC,SAAU,KAAAC,EAErD,OADkB,QAAlBA,EAAAvB,EAAUG,gBAAQ,IAAAoB,GAAlBA,EAAA5B,KAAAK,EAAqBmB,GACdA,CACT,CACA,IAAI,IAAAK,EACF,MAAMrL,EAAsB,QAAlBqL,QAAUL,WAAQ,IAAAK,OAAA,EAAfA,EAAkBrG,QAC/B,IAAIhF,IAAUA,EAAKsL,YAGjB,MAAMV,MAC2F,IAJnE,IAAAW,EAOhC,OANoB,QAAlBA,EAAA1B,EAAUG,gBAAQ,IAAAuB,GAAlBA,EAAA/B,KAAAK,EAAqB7J,GAMhBA,CACT,CAAE,MAAO6K,GAAK,IAAAW,EACS,QAArBA,EAAA3B,EAAUK,mBAAW,IAAAsB,GAArBA,EAAAhC,KAAAK,EAAwBgB,EAC1B,CACA,MACF,CA1DmBY,CAAUjN,KAAKmL,EAAGE,KAC5B7J,EACH,OAAO,KACT,IAAKA,EAAKsL,cAAe,CACvB,MAAM7C,EAAU,2DAGhB,OAFAjK,KAAKe,EAAE8B,OAAOC,SAAS,IAAIoC,EAAAA,EAAS,oBACpClF,KAAKe,EAAE+G,SAASC,EAAE,QAAS,CAAEkC,UAASC,KAAM,IACrC,IACT,CACA,OAAO1I,CACT,CACA+J,EAAAA,GACEvL,KAAKe,EAAE8B,OAAOC,SAAS,IAAIoC,EAAAA,EAAS,sBACtC,CACAuG,EAAAA,CAAGjK,GACDxB,KAAKe,EAAE8B,OAAOC,SACZ,IAAIoC,EAAAA,EAAS,iBAAkB,CAC7BnC,OAAQvB,KAGZxB,KAAKC,GAAGuB,EACV,CACAmK,EAAAA,CAAGuB,GACD,MAAM3D,GAAQ4D,EAAAA,EAAAA,GAAcD,GAC5BlN,KAAKe,EAAE8B,OAAOC,SACZ,IAAIoC,EAAAA,EAAS,qBAAsB,CACjCnC,OAAQwG,KAGZvJ,KAAKe,EAAE+G,SAASC,EAAE,QAAS,CACzBkC,QAASV,EAAMU,QACfC,KAAM,EACNX,SAEJ,EA8CF,MAAM6D,UAAoBC,EAAAA,cACxBvN,WAAAA,GACEwN,SAASxB,WACT9L,KAAKuN,gBAAkB,MACvBvN,KAAKwN,GAAK,KACVxN,KAAKyN,EAAI,IAAI9M,EAAcX,KAAK0N,MAAO1N,KAAKe,GAC5Cf,KAAK2N,GAAK,GAAH1H,OAPW,2BAOQ,8BAA8B,UAC1D,CAIA,QAAIzE,GACF,OAAOxB,KAAKwN,EACd,CAIA,YAAIlM,GACF,OAAOtB,KAAKyN,EAAEnM,QAChB,CAOA,QAAI2D,GACF,MAAO,KACT,CACA,eAAI2I,GACF,OAAO,CACT,CAMA,UAAIC,GACF,OAAO7N,KAAKyN,EAAEvM,EAChB,CACA,UAAI2M,CAAOA,GACT7N,KAAKyN,EAAEvM,GAAK2M,CACd,CAMA,WAAIC,GACF,OAAO9N,KAAK2N,EACd,CACA,WAAIG,CAAQA,GACV9N,KAAK2N,GAAKG,CACZ,CACAC,UAAAA,IACOpD,EAAAA,EAAAA,GAAS3K,KAAK2N,MAEnBI,EAAAA,EAAAA,GAAW/N,KAAK2N,GAClB,CACApM,KAAAA,GACE+L,MAAM/L,QACN,IAAI0J,EAAajL,KAAK2N,GAAI3N,KAAKe,GAAIS,IACjCxB,KAAKwN,GAAKhM,EACVxB,KAAKyN,EAAElM,MAAMC,GACbxB,KAAKe,EAAE+G,SAASC,EAAE,iBAAkB/H,MACpC,MAAMmG,GAAMvE,EAAAA,EAAAA,GAAK5B,KAAKe,EAAEW,OAAOsM,QAC3B7H,GACFnG,KAAK4K,WAAWzE,EAAI,GAE1B,CACA,gBAAMyE,CAAWzE,EAAK8H,IACftD,EAAAA,EAAAA,GAASxE,EAAIA,OAElBnG,KAAKkO,EAAED,QAAUA,GAAW,GAC5BjO,KAAKmO,GAAGhI,GACRnG,KAAKyN,EAAEhD,GAAGtE,GACVnG,KAAKoO,EAAIjI,EACX,CAIAgI,EAAAA,CAAGhI,GACD,MAAMkI,EAAarO,KAAK0N,MAAMY,cAAc,oBAAqBN,EAAmB,OAAVK,QAAU,IAAVA,EAAAA,EAAcE,SAASC,cAAc,WAC/GC,EAAAA,EAAAA,GAAaT,EAAQ,MAAO7H,EAAIA,MAChCsI,EAAAA,EAAAA,GAAaT,EAAQ,OAAQ,0BAC7BS,EAAAA,EAAAA,GAAaT,EAAQ,WAAY,IAC5BK,GACHrO,KAAK0N,MAAMgB,OAAOV,EACtB,CAKAW,UAAAA,CAAW/L,GACT,MAAMtB,EAAWtB,KAAKyN,EAAEnM,SAIxB,OAHIA,GACFsB,EAAStB,GACXtB,KAAKyN,EAAEtM,GAAG2F,IAAIlE,GACP,IAAM5C,KAAKyN,EAAEtM,GAAGyN,OAAOhM,EAChC,CACAoH,OAAAA,GACEhK,KAAKyN,EAAE5C,IACT,EAtGIuC,EAwBGyB,WAAYC,EAAAA,EAAAA,I,2FCnVrB,MAAMC,EACJjP,WAAAA,CAAYkP,EAAWnO,GACrBb,KAAKsF,EAAI0J,EACThP,KAAKe,EAAIF,EACTb,KAAKiP,IAAKC,EAAAA,EAAAA,KACVlP,KAAKmP,IAAK,EACVnP,KAAKoP,IAAK,EACVpP,KAAKqP,IAAK,EACVrP,KAAKsP,GAAK,IAAIzP,EAAAA,EAAQG,KAAKuP,GAAGnN,KAAKpC,OACnCA,KAAKwP,QAAK,EACVxP,KAAKyP,QAAK,EACVzP,KAAK0P,MACLrL,EAAAA,EAAAA,GAAOrE,KAAK2P,GAAGvN,KAAKpC,QACpB4P,EAAAA,EAAAA,GAAU5P,KAAK6P,GAAGzN,KAAKpC,MACzB,CACA,KAAIkO,GACF,OAAOlO,KAAKsF,EAAE4C,KAChB,CACA,KAAIH,GACF,OAAO/H,KAAKe,EAAE+G,SAASC,CACzB,CACA8H,EAAAA,GACE7P,KAAKoP,IAAK,EACVpP,KAAKqP,IAAK,EACVrP,KAAKsP,GAAGhP,KACRN,KAAKiP,GAAGa,OACV,CAMAP,EAAAA,GACE,MAAMQ,EAAU/P,KAAKkO,EAAE3D,YACnBvK,KAAKe,EAAEW,OAAOsO,oBAAsBD,GACtC/P,KAAKiQ,GAAGF,EACZ,CACAL,EAAAA,GACE1P,KAAKkQ,EAAE,YAAalQ,KAAKuL,IACzBvL,KAAKkQ,EAAE,QAASlQ,KAAKmQ,IACrBnQ,KAAKkQ,EAAE,UAAWlQ,KAAKoQ,IACvBpQ,KAAKkQ,EAAE,QAASlQ,KAAK2C,GACrB3C,KAAKkQ,EAAE,eAAgBlQ,KAAKqQ,GAC9B,CACAC,EAAAA,GACMtQ,KAAKoP,KAETpP,KAAKiP,GAAGnI,IACN9G,KAAKkQ,EAAE,aAAclQ,KAAKuQ,IAC1BvQ,KAAKkQ,EAAE,iBAAkBlQ,KAAKwQ,IAC9BxQ,KAAKkQ,EAAE,UAAWlQ,KAAKyQ,IACvBzQ,KAAKkQ,EAAE,iBAAkBlQ,KAAK0Q,IAC9B1Q,KAAKkQ,EAAE,iBAAkBlQ,KAAK2Q,IAC9B3Q,KAAKkQ,EAAE,OAAQlQ,KAAK4Q,IACpB5Q,KAAKkQ,EAAE,WAAYlQ,KAAK6Q,IACxB7Q,KAAKkQ,EAAE,UAAWlQ,KAAK8Q,IACvB9Q,KAAKkQ,EAAE,UAAWlQ,KAAK+Q,KAEzB/Q,KAAKoP,IAAK,EACZ,CACA4B,EAAAA,GACMhR,KAAKqP,KAETrP,KAAKiP,GAAGnI,IACN9G,KAAKkQ,EAAE,QAASlQ,KAAKiR,IACrBjR,KAAKkQ,EAAE,UAAWlQ,KAAKkR,IACvBlR,KAAKkQ,EAAE,aAAclQ,KAAKmR,IAC1BnR,KAAKkQ,EAAE,SAAUlQ,KAAKoR,IACtBpR,KAAKkQ,EAAE,UAAWlQ,KAAKqR,IACvBrR,KAAKkQ,EAAE,QAASlQ,KAAKsR,IACrBtR,KAAKkQ,EAAE,UAAWlQ,KAAKuR,KAEzBvR,KAAKqP,IAAK,EACZ,CACAa,CAAAA,CAAEnL,EAAWyM,GACX,OAAOvN,EAAAA,EAAAA,GACLjE,KAAKkO,EACLnJ,EACAyM,EAAQpP,KAAKpC,MAEjB,CACAyR,EAAAA,CAAGC,GAEH,CACAzB,EAAAA,CAAG0B,EAAMvK,GACP,MAAMrE,EAAS,CAEbwH,YAAaqH,KAAKC,IAAIF,EAAM3R,KAAKe,EAAEW,OAAOoQ,eAC1CC,OAAQ/R,KAAKkO,EAAE6D,QAEjB/R,KAAK+H,EAAE,cAAehF,EAAQqE,EAChC,CACAmE,EAAAA,CAAGmG,GAC2B,IAAxB1R,KAAKkO,EAAE8D,cAIXhS,KAAKsQ,KACLtQ,KAAK+H,EAAE,kBAAc,EAAQ2J,IAJ3B1R,KAAKmQ,GAAGuB,EAKZ,CACAvB,EAAAA,CAAGuB,GACD1R,KAAK+H,EAAE,aAAS,EAAQ2J,EAC1B,CACAtB,EAAAA,GACEpQ,KAAK+H,EAAE,eAAW,EAAQ1F,MAC5B,CACAkO,EAAAA,CAAGmB,GACD1R,KAAK+H,EAAE,mBAAe,EAAQ2J,EAChC,CACAlB,EAAAA,CAAGkB,GACD1R,KAAKgR,KACLhR,KAAK+H,EAAE,uBAAmB,EAAQ2J,GAC9BO,EAAAA,IAAaC,EAAAA,EAAAA,GAASlS,KAAKe,EAAEW,OAAOsM,WACtChO,KAAKe,EAAE+G,SAASqK,GAAGnS,KAAKoS,KAAMV,EAElC,CACAU,EAAAA,GACE,MAAO,CACLC,UAAUzQ,EAAAA,EAAAA,GAAK5B,KAAKe,EAAEuR,WACtB3K,SAAU3H,KAAKkO,EAAEvG,SACjB4K,SAAUvS,KAAKkO,EAAEqE,SACjBC,SAAUxS,KAAKkO,EAAEsE,SAErB,CACA5B,EAAAA,CAAGc,GACI1R,KAAKe,EAAEW,OAAO+F,SAEnBzH,KAAK+H,EAAE,YAAQ,EAAQ2J,EACzB,CACAT,EAAAA,CAAGS,IACyB,IAAtB1R,KAAKkO,EAAEuE,YAAqBzS,KAAKmP,MAErCnP,KAAKmP,IAAK,EACVnP,KAAKsP,GAAGhP,KACRN,KAAK+H,EAAE,aAAS,EAAQ2J,GAC1B,CACAjB,EAAAA,CAAGiB,GACD1R,KAAKe,EAAE+G,SAASqK,GAAGnS,KAAKoS,KAAMV,EAChC,CACAhB,EAAAA,CAAGgB,GACG1R,KAAKe,EAAEW,OAAOgR,WAElB1S,KAAK+H,EAAE,mBAAoB/H,KAAKoS,KAAMV,EACxC,CACAR,EAAAA,CAAGQ,GACD1R,KAAKmP,IAAK,EACVnP,KAAK+H,EAAE,eAAW,EAAQ2J,GAC1B1R,KAAKsP,GAAGpP,IACV,CACA4Q,EAAAA,CAAGY,GACD1R,KAAK+H,EAAE,eAAW,EAAQ2J,GACtB1R,KAAKkO,EAAEuE,WAAa,IACtBzS,KAAKmP,IAAK,EACVnP,KAAK+H,EAAE,eAAW,EAAQ2J,GAE9B,CACAH,EAAAA,CAAGG,GACG1R,KAAKkO,EAAEuE,WAAa,IACtBzS,KAAKmP,IAAK,EACVnP,KAAK+H,EAAE,eAAW,EAAQ2J,GAE9B,CACAJ,EAAAA,CAAGI,GAID,GAHA1R,KAAKsP,GAAGhP,KACRN,KAAKiQ,GAAGjQ,KAAKkO,EAAEvG,SAAU+J,GACzB1R,KAAK+H,EAAE,WAAO,EAAQ2J,GAClB1R,KAAKe,EAAEW,OAAOiR,OAAQ,EACEC,EAAAA,EAAAA,GAAM5S,KAAKkO,EAAE2E,YAErC7S,KAAKkO,EAAE2E,UAAW,EACtB,CACF,CACAlD,EAAAA,GACM3P,KAAKe,EAAEW,OAAOoR,WAChB7O,EAAAA,EAAAA,GAAYjE,KAAKkO,EAAG,aAAclO,KAAK+S,GAAG3Q,KAAKpC,MAEnD,CACA+S,EAAAA,CAAGrB,GACD1R,KAAKiQ,GAAGjQ,KAAKkO,EAAE3D,YAAamH,EAC9B,CACAf,EAAAA,CAAGe,GACG1R,KAAKe,EAAEW,OAAOsR,SAChBhT,KAAKiQ,GAAGjQ,KAAKkO,EAAEvG,SAAU+J,GAE3B1R,KAAK+H,EAAE,kBAAmB/H,KAAKkO,EAAEvG,SAAU+J,EAC7C,CACArB,EAAAA,CAAGqB,GACD,MAAM3O,EAAS,CACbkQ,OAAQjT,KAAKkO,EAAE+E,OACfC,MAAOlT,KAAKkO,EAAEgF,OAEhBlT,KAAK+H,EAAE,gBAAiBhF,EAAQ2O,EAClC,CACAN,EAAAA,CAAGM,GACD1R,KAAKiQ,GAAGjQ,KAAKkO,EAAE3D,YAAamH,GAC5B1R,KAAK+H,EAAE,SAAU/H,KAAKkO,EAAE3D,YAAamH,GACjCE,KAAKuB,MAAMnT,KAAKkO,EAAE3D,eAAiBqH,KAAKuB,MAAMnT,KAAKkO,EAAEvG,YAAayL,EAAAA,EAAAA,GAAyBpT,KAAKkO,EAAEvG,WAAYyL,EAAAA,EAAAA,GAAyBpT,KAAKkO,EAAE3D,eAChJvK,KAAKiQ,GAAGjQ,KAAKkO,EAAEvG,SAAU+J,GACpB1R,KAAKkO,EAAE8E,OACVhT,KAAKe,EAAE8B,OAAOC,SACZ,IAAIoC,EAAAA,EAAS,qBAAsB,CACjCkC,QAASsK,KAKnB,CACAL,EAAAA,CAAGK,GACD1R,KAAK+H,EAAE,UAAW/H,KAAKkO,EAAE3D,YAAamH,EACxC,CACAb,EAAAA,CAAGa,GACD,MAAM3O,EAAS,CACbwP,SAAUvS,KAAKkO,EAAEqE,SACjBC,SAAUxS,KAAKkO,EAAEsE,UAEnBxS,KAAK+H,EAAE,WAAYhF,EAAQ2O,EAC7B,CACAX,EAAAA,CAAGW,GACD1R,KAAK+H,EAAE,eAAW,EAAQ2J,EAC5B,CACAP,EAAAA,CAAGO,GACD1R,KAAK+H,EAAE,cAAe/H,KAAKkO,EAAEmF,aAAc3B,EAC7C,CACA/O,CAAAA,CAAE+O,GACA,MAAMnI,EAAQvJ,KAAKkO,EAAE3E,MACrB,IAAKA,EACH,OACF,MAAMxG,EAAS,CACbkH,QAASV,EAAMU,QACfC,KAAMX,EAAMW,KACZoJ,WAAY/J,GAEdvJ,KAAK+H,EAAE,QAAShF,EAAQ2O,EAC1B,EAGF,MAAM6B,EACJzT,WAAAA,CAAYkP,EAAWnO,GACrBb,KAAKsF,EAAI0J,EACThP,KAAKe,EAAIF,EACTb,KAAKwT,GAAGC,WAAazT,KAAK0T,GAAGtR,KAAKpC,MAClCA,KAAKwT,GAAGG,cAAgB3T,KAAK4T,GAAGxR,KAAKpC,MACrCA,KAAKwT,GAAGK,SAAW7T,KAAK8T,GAAG1R,KAAKpC,OAChCiE,EAAAA,EAAAA,GAAYjE,KAAKe,EAAEoD,YAAa,SAAUnE,KAAK+T,GAAG3R,KAAKpC,MACzD,CACA,MAAIwT,GACF,OAAOxT,KAAKsF,EAAE4C,MAAM/D,WACtB,CACAuP,EAAAA,CAAGrR,GACD,MAAM2R,EAAS3R,EAAMyD,MACrB,GAAqB,KAAjBkO,EAAO3N,MACT,OACF,MAAMmE,EAAa,CACjBxE,GAAIgO,EAAOhO,GAAGuC,WACdlC,MAAO2N,EAAO3N,MACdC,SAAU0N,EAAO1N,SACjBJ,KAAM8N,EAAO9N,KACb+N,UAAU,GAEZjU,KAAKe,EAAEoD,YAAYkD,EAAAA,EAAWoB,IAAI+B,EAAYnI,GAC1C2R,EAAOE,UACT1J,EAAWyJ,UAAW,EAC1B,CACAL,EAAAA,CAAGvR,GACD,MAAMyD,EAAQ9F,KAAKe,EAAEoD,YAAY4C,QAAQ1E,EAAMyD,MAAME,IACjDF,GACF9F,KAAKe,EAAEoD,YAAYkD,EAAAA,EAAW8M,IAAIrO,EAAOzD,EAC7C,CACAyR,EAAAA,CAAGzR,GACD,IAAI+R,EAAepU,KAAKqU,KACxB,IAAKD,EACH,OACF,MAAMtO,EAAQ9F,KAAKe,EAAEoD,YAAY4C,QAAQqN,EAAapO,IAClDF,GACF9F,KAAKe,EAAEoD,YAAYkD,EAAAA,EAAWC,IAAIxB,GAAO,EAAMzD,EACnD,CACAgS,EAAAA,GACE,OAAOC,MAAMC,KAAKvU,KAAKwT,IAAIgB,MAAM1O,GAAUA,EAAMoO,SACnD,CACAH,EAAAA,CAAG1R,GACD,MAAM,QAAEoS,GAAYpS,EAAMU,OAC1B,IAAK0R,EACH,OACF,MAAM3O,EAAQ9F,KAAKwT,GAAGkB,aAAaD,EAAQzO,IAC3C,GAAIF,EAAO,CACT,MAAM6O,EAAO3U,KAAKqU,KACdM,IACFA,EAAKT,SAAU,GACjBpO,EAAMoO,SAAU,CAClB,CACF,EAGF,MAAMU,EACJ9U,WAAAA,CAAY+U,EAAQhU,GAClBb,KAAKkO,EAAI2G,EACT7U,KAAKe,EAAIF,EACTb,KAAK8U,OAAQC,EAAAA,EAAAA,KACb/U,KAAKoO,EAAI,IACX,CACA7M,KAAAA,GACE,IAAIwN,EAAgB/O,KAAMA,KAAKe,GAC3B,gBAAiBf,KAAKkI,OACxB,IAAIqL,EAAkBvT,KAAMA,KAAKe,IACnC6O,EAAAA,EAAAA,IAAU,KACR5P,KAAKkO,EAAEO,aAAa,MAAO,IAC3BzO,KAAKkO,EAAE8G,MAAM,GAEjB,CACA,QAAI/P,GACF,MAAO,EACT,CACA,SAAIiD,GACF,OAAOlI,KAAKkO,CACd,CACA,cAAI+G,GACF,OAAOjV,KAAKoO,CACd,CACA8G,eAAAA,CAAgBC,GACdnV,KAAKkO,EAAEmF,aAAe8B,CACxB,CACA,UAAMC,GACJ,OAAOpV,KAAKkO,EAAEkH,MAChB,CACA,WAAMC,GACJ,OAAOrV,KAAKkO,EAAEmH,OAChB,CACAC,QAAAA,CAASpC,GACPlT,KAAKkO,EAAEgF,MAAQA,CACjB,CACAqC,SAAAA,CAAUtC,GACRjT,KAAKkO,EAAE+E,OAASA,CAClB,CACAuC,cAAAA,CAAe7D,GACb3R,KAAKkO,EAAE3D,YAAcoH,CACvB,CACA8D,cAAAA,CAAeC,IACbjH,EAAAA,EAAAA,GAAazO,KAAKkO,EAAG,cAAewH,EACtC,CACA,gBAAM9K,CAAU+K,EAAgB1H,GAAS,IAAxB,IAAE9H,EAAG,KAAElB,GAAM0Q,EAC5B3V,KAAKkO,EAAED,QAAUA,GAAW,IACxB2H,EAAAA,EAAAA,GAAczP,GAChBnG,KAAKkO,EAAE2H,UAAY1P,GAEnBnG,KAAKkO,EAAE2H,UAAY,KACnB7V,KAAKkO,EAAE/H,KAAMwE,EAAAA,EAAAA,GAASxE,GAAOnG,KAAK8V,GAAG3P,GAAO3F,OAAOuV,IAAIC,gBAAgB7P,IAEzEnG,KAAKkO,EAAE8G,OACPhV,KAAKoO,EAAI,CACPjI,MACAlB,OAEJ,CACA6Q,EAAAA,CAAG3P,GACD,MAAM,cAAE8P,EAAa,YAAEC,GAAgBlW,KAAKe,EAAEW,OAAQyU,EAAYF,IAAiBG,EAAUF,IAC7F,OAAIC,EAAY,GAAKC,EAAU,EACtB,GAAPnQ,OAAUE,EAAG,OAAAF,OAAMkQ,EAAS,KAAAlQ,OAAImQ,GACvBD,EAAY,EACd,GAAPlQ,OAAUE,EAAG,OAAAF,OAAMkQ,GACVC,EAAU,EACZ,GAAPnQ,OAAUE,EAAG,SAAAF,OAAQmQ,GAEhBjQ,CACT,E,4FCzWF,MAAMkQ,EACJvW,WAAAA,CAAYc,EAAQC,GAClBb,KAAKc,EAAIF,EACTZ,KAAKe,EAAIF,EACTD,EAAOiG,WAAW4M,WAAazT,KAAKsW,GAAGlU,KAAKpC,OAC5C4P,EAAAA,EAAAA,GAAU5P,KAAK6P,GAAGzN,KAAKpC,MACzB,CACAsW,EAAAA,CAAGjU,GACD,MAAMkU,EAAclU,EAAMyD,MAC1B,IAAKyQ,GAmCT,SAA8B7I,EAAO5H,GACnC,OAAOwO,MAAMC,KAAK7G,EAAM8I,UAAUhC,MAAMiC,GAAOA,EAAG3Q,QAAUA,GAC9D,CArCwB4Q,CAAqB1W,KAAKc,EAAGyV,GAC/C,OACF,MAAMzQ,EAAQ,IAAIC,EAAAA,EAAU,CAC1BC,GAAIuQ,EAAYvQ,GAChBE,KAAMqQ,EAAYrQ,KAClBG,MAAOkQ,EAAYlQ,MACnBC,SAAUiQ,EAAYjQ,SACtBrB,KAAM,QAERa,EAAMW,EAAAA,EAAgBkQ,GAAK,CAAE7Q,MAAOyQ,GACpCzQ,EAAMW,EAAAA,EAAgBC,GAAK,EAC3BZ,EAAMW,EAAAA,EAAgBmQ,KAAM,EAC5B,IAAIC,EAAY,EAChB,MAAMC,EAAepF,IACnB,GAAK6E,EAAYtP,KAEjB,IAAK,IAAI3B,EAAIuR,EAAWvR,EAAIiR,EAAYtP,KAAKzB,OAAQF,IACnDQ,EAAMqB,OAAOoP,EAAYtP,KAAK3B,GAAIoM,GAClCmF,GACF,EAEFC,EAAYzU,GACZkU,EAAYQ,YAAcD,EAC1B9W,KAAKe,EAAE8F,WAAWC,IAAIhB,EAAOzD,GAC7ByD,EAAMkR,QAAQT,EAAY3P,KAAMvE,EAClC,CACAwN,EAAAA,GACE7P,KAAKc,EAAE+F,WAAW4M,WAAa,KAC/B,IAAK,MAAM3N,KAAS9F,KAAKe,EAAE8F,WAAY,KAAAoQ,EACrC,MAAMV,EAAsC,QAA3BU,EAAGnR,EAAMW,EAAAA,EAAgBkQ,UAAE,IAAAM,OAAA,EAAxBA,EAA0BnR,MAC/B,OAAXyQ,QAAW,IAAXA,GAAAA,EAAaQ,cACfR,EAAYQ,YAAc,KAC9B,CACF,EAMF,MAAMG,EACJpX,WAAAA,CAAYc,EAAQiU,GAClB7U,KAAKc,EAAIF,EACTZ,KAAKkO,EAAI2G,EACT7U,KAAKmX,EAAI,CAACC,EAAQ/U,KAChBrC,KAAKkO,EAAEpG,SAASC,EAAE,4BAA6BqP,EAAQ/U,EAAM,GAE/D4B,EAAAA,EAAAA,GAAYjE,KAAKc,EAAG,wBAAyBd,KAAKqX,GAAGjV,KAAKpC,QAC1DiE,EAAAA,EAAAA,GAAYjE,KAAKc,EAAG,wBAAyBd,KAAKsX,GAAGlV,KAAKpC,MAC5D,CACA,UAAIoX,GACF,OAAO7I,SAASgJ,0BAA4BvX,KAAKc,CACnD,CACA,aAAI+N,GACF,OAAO2I,EAAAA,EAAAA,GAAuBxX,KAAKc,EACrC,CACA,WAAM2W,GACJ,OAAOzX,KAAKc,EAAE4W,yBAChB,CACAC,IAAAA,GACE,OAAOpJ,SAASqJ,sBAClB,CACAP,EAAAA,CAAGhV,GACDrC,KAAKmX,GAAE,EAAM9U,EACf,CACAiV,EAAAA,CAAGjV,GACDrC,KAAKmX,GAAE,EAAO9U,EAChB,EAGF,MAAMwV,EACJ/X,WAAAA,CAAYc,EAAQiU,GAClB7U,KAAKc,EAAIF,EACTZ,KAAKkO,EAAI2G,EACT7U,KAAK8X,EAAI,UACT7T,EAAAA,EAAAA,GAAYjE,KAAKc,EAAG,gCAAiCd,KAAK2G,GAAGvE,KAAKpC,MACpE,CACA,MAAI+X,GACF,OAAOC,EAAAA,EAAAA,GAAwBhY,KAAKc,EACtC,CACA,QAAMmX,CAAGrR,GACH5G,KAAK8X,IAAMlR,GAEf5G,KAAKc,EAAEoX,0BAA0BtR,EACnC,CACAD,EAAAA,CAAGtE,GAAO,IAAA8V,EACR,MAAMC,EAAWpY,KAAK8X,EACtB9X,KAAK8X,EAAI9X,KAAKc,EAAEuX,uBACH,QAAbF,EAAAnY,KAAKkO,EAAErL,cAAM,IAAAsV,GAAbA,EAAerV,SACb,IAAIoC,EAAAA,EAAS,4BAA6B,CACxCnC,OAAQ/C,KAAK8X,EACb1Q,QAAS/E,KAGb,CAAC,aAAc,sBAAsBiW,SAASrT,IACxCjF,KAAK8X,IAAM7S,GAAQmT,IAAanT,GAClCjF,KAAKkO,EAAEpG,SAASC,EAAE,GAAD9B,OAAIhB,EAAI,WAAWjF,KAAK8X,IAAM7S,EAAM5C,EACvD,GAEJ,EAEF,MAAMkW,EACJzY,WAAAA,CAAY0Y,GACVxY,KAAKyY,GAAKD,CACZ,CACA,UAAIpB,GACF,MAAqB,eAAdpX,KAAKyY,GAAGX,CACjB,CACA,aAAIjJ,GACF,OAAO7O,KAAKyY,GAAGV,EACjB,CACA,WAAMN,GACJzX,KAAKyY,GAAGR,GAAG,aACb,CACA,UAAMN,GACJ3X,KAAKyY,GAAGR,GAAG,SACb,EAEF,MAAMS,EACJ5Y,WAAAA,CAAY0Y,GACVxY,KAAKyY,GAAKD,CACZ,CACA,UAAIpB,GACF,MAAqB,uBAAdpX,KAAKyY,GAAGX,CACjB,CACA,aAAIjJ,GACF,OAAO7O,KAAKyY,GAAGV,EACjB,CACA,WAAMN,GACJzX,KAAKyY,GAAGR,GAAG,qBACb,CACA,UAAMN,GACJ3X,KAAKyY,GAAGR,GAAG,SACb,EAGF,MAAMU,EACJ7Y,WAAAA,CAAYc,EAAQC,GAClBb,KAAKc,EAAIF,EACTZ,KAAKe,EAAIF,EACTb,KAAK+X,IAAKa,EAAAA,EAAAA,IAAO,GACjB5Y,KAAK6Y,IACP,CACA,aAAIhK,GACF,OAAO7O,KAAK+X,IACd,CACAc,EAAAA,GACO7Y,KAAKc,EAAEgY,QAAW9Y,KAAK+Y,KAE5B/Y,KAAKc,EAAEgY,OAAOE,mBAAmBC,IAC/BjZ,KAAK+X,GAAGlT,IAAIoU,EAAU,IACrBC,OAAM,KACPlZ,KAAK+X,GAAGlT,KAAI,EAAM,KAEpBR,EAAAA,EAAAA,GAAOrE,KAAKmZ,GAAG/W,KAAKpC,OACtB,CACAmZ,EAAAA,GACE,IAAKnZ,KAAK+X,KACR,OACF,MAAMqB,EAAS,CAAC,aAAc,UAAW,cAAeC,EAAgBrZ,KAAKsZ,GAAGlX,KAAKpC,MACrFqZ,KACApV,EAAAA,EAAAA,GAAYjE,KAAKc,EAAG,UAAWuY,GAC/B,IAAK,MAAMpU,KAAQmU,GACjBnV,EAAAA,EAAAA,GAAYjE,KAAKc,EAAEgY,OAAQ7T,EAAMoU,EAErC,CACA,YAAME,GACJ,IAAKvZ,KAAK6O,UACR,MAAMzC,MAAM,mCACd,MAAgB,YAAZpM,KAAKwZ,IAAoBxZ,KAAKc,EAAE2Y,+BAC3BzZ,KAAKc,EAAE2Y,iCAETzZ,KAAKc,EAAEgY,OAAOS,QACvB,CACAD,EAAAA,CAAGjX,GACD,MAAMqX,EAAQ1Z,KAAKc,EAAEgY,OAAOY,MAC5B,GAAIA,IAAU1Z,KAAK2Z,GACjB,OACF,MAAM5W,EAAS,CAAEkC,KAAMjF,KAAKwZ,GAAIE,SAChC1Z,KAAKe,EAAE+G,SAASC,EAAE,yBAA0BhF,EAAQV,GACpDrC,KAAK2Z,GAAKD,CACZ,EAEF,MAAME,UAA4BjB,EAChC7Y,WAAAA,GACEwN,SAASxB,WACT9L,KAAKwZ,GAAK,SACZ,CACA,MAAIT,GACF,MAAO,0CAA2CvY,MACpD,EAGF,MAAM6M,UAAsBuH,EAAAA,EAC1B9U,WAAAA,CAAY4N,EAAOmM,GACjBvM,MAAMI,EAAOmM,GACb7Z,KAAKuN,gBAAkB,SACvBuM,EAAAA,EAAAA,IAAO,KAEL,GADA9Z,KAAK+Z,QAAU,IAAIH,EAAoBlM,EAAOmM,IAC1C7B,EAAAA,EAAAA,GAAwBtK,GAAQ,CAClC,MAAMsM,EAAe,IAAInC,EAAkBnK,EAAOmM,GAClD7Z,KAAKia,WAAa,IAAI1B,EAA8ByB,GACpDha,KAAKka,iBAAmB,IAAIxB,EAAuBsB,EACrD,MAAWxC,EAAAA,EAAAA,GAAuB9J,KAChC1N,KAAKka,iBAAmB,IAAIhD,EAAsBxJ,EAAOmM,GAC3D,GACC7Z,KAAK8U,MACV,CACA,QAAI7P,GACF,MAAO,OACT,CACA1D,KAAAA,GACE+L,MAAM/L,SACF4Y,EAAAA,EAAAA,GAAmBna,KAAK0N,QAC1B,IAAI2I,EAAoBrW,KAAK0N,MAAO1N,KAAKe,GAE3Cf,KAAKe,EAAEqZ,cAAcC,GAAGra,KAAK0N,QAC7BkC,EAAAA,EAAAA,IAAU,KACR5P,KAAKe,EAAEqZ,cAAcC,GAAG,KAAK,IAEb,UAAdra,KAAKiF,MACPjF,KAAKe,EAAE+G,SAASC,EAAE,iBAAkB/H,KACxC,CAMA,SAAI0N,GACF,OAAO1N,KAAKkO,CACd,E","sources":["../node_modules/vidstack/dist/prod/chunks/vidstack-XrFM82kz.js","../node_modules/vidstack/dist/prod/providers/vidstack-hls.js","../node_modules/vidstack/dist/prod/providers/vidstack-html.js","../node_modules/vidstack/dist/prod/providers/vidstack-video.js"],"sourcesContent":["import { i as isUndefined, a as isNumber } from './vidstack-wnzQJK1n.js';\n\nclass RAFLoop {\n  constructor(_callback) {\n    this.Ca = _callback;\n  }\n  Bb() {\n    if (!isUndefined(this.ca))\n      return;\n    this.Oe();\n  }\n  ra() {\n    if (isNumber(this.ca))\n      window.cancelAnimationFrame(this.ca);\n    this.ca = void 0;\n  }\n  Oe() {\n    this.ca = window.requestAnimationFrame(() => {\n      if (isUndefined(this.ca))\n        return;\n      this.Ca();\n      this.Oe();\n    });\n  }\n}\n\nexport { RAFLoop as R };\n","import { T as TextTrack, b as TextTrackSymbol, l as loadScript, p as preconnect } from '../chunks/vidstack-heAoL83T.js';\nimport { I as IS_CHROME, i as isHLSSupported } from '../chunks/vidstack-hp24nviz.js';\nimport { VideoProvider } from './vidstack-video.js';\nimport { u as peek, l as listenEvent, e as effect, D as DOMEvent, r as isString, L as camelToKebabCase, i as isUndefined, t as isFunction, k as setAttribute } from '../chunks/vidstack-wnzQJK1n.js';\nimport { Q as QualitySymbol, c as coerceToError } from '../chunks/vidstack-O_5qKbqC.js';\nimport { L as ListSymbol } from '../chunks/vidstack-WKdrqUlP.js';\nimport { R as RAFLoop } from '../chunks/vidstack-XrFM82kz.js';\nimport './vidstack-html.js';\nimport '../chunks/vidstack-iVChOPoI.js';\nimport '../chunks/vidstack-95QZhtQo.js';\n\nconst toDOMEventType = (type) => camelToKebabCase(type);\nclass HLSController {\n  constructor(_video, _ctx) {\n    this.m = _video;\n    this.b = _ctx;\n    this.g = null;\n    this.nd = null;\n    this.od = {};\n    this.pd = /* @__PURE__ */ new Set();\n    this.yk = -1;\n  }\n  get instance() {\n    return this.g;\n  }\n  setup(ctor) {\n    const { streamType } = this.b.$state;\n    const isLive = peek(streamType).includes(\"live\"), isLiveLowLatency = peek(streamType).includes(\"ll-\");\n    this.g = new ctor({\n      lowLatencyMode: isLiveLowLatency,\n      backBufferLength: isLiveLowLatency ? 4 : isLive ? 8 : void 0,\n      renderTextTracksNatively: false,\n      ...this.od\n    });\n    const dispatcher = this.Sg.bind(this);\n    for (const event of Object.values(ctor.Events))\n      this.g.on(event, dispatcher);\n    this.g.on(ctor.Events.ERROR, this.U.bind(this));\n    for (const callback of this.pd)\n      callback(this.g);\n    this.b.player.dispatch(\"hls-instance\", {\n      detail: this.g\n    });\n    this.g.attachMedia(this.m);\n    this.g.on(ctor.Events.FRAG_LOADING, this.Bk.bind(this));\n    this.g.on(ctor.Events.AUDIO_TRACK_SWITCHED, this.Tg.bind(this));\n    this.g.on(ctor.Events.LEVEL_SWITCHED, this.Ug.bind(this));\n    this.g.on(ctor.Events.LEVEL_LOADED, this.Vg.bind(this));\n    this.g.on(ctor.Events.NON_NATIVE_TEXT_TRACKS_FOUND, this.Wg.bind(this));\n    this.g.on(ctor.Events.CUES_PARSED, this.Xg.bind(this));\n    this.b.qualities[QualitySymbol.Za] = this.Yg.bind(this);\n    listenEvent(this.b.qualities, \"change\", this.fb.bind(this));\n    listenEvent(this.b.audioTracks, \"change\", this.Zg.bind(this));\n    this.nd = effect(this._g.bind(this));\n  }\n  _g() {\n    if (!this.b.$state.live())\n      return;\n    const raf = new RAFLoop(this.$g.bind(this));\n    raf.Bb();\n    return raf.ra.bind(raf);\n  }\n  $g() {\n    this.b.$state.liveSyncPosition.set(this.g?.liveSyncPosition ?? Infinity);\n  }\n  Sg(eventType, detail) {\n    this.b.player?.dispatch(new DOMEvent(toDOMEventType(eventType), { detail }));\n  }\n  Wg(eventType, data) {\n    const event = new DOMEvent(eventType, { detail: data });\n    let currentTrack = -1;\n    for (let i = 0; i < data.tracks.length; i++) {\n      const nonNativeTrack = data.tracks[i], init = nonNativeTrack.subtitleTrack ?? nonNativeTrack.closedCaptions, track = new TextTrack({\n        id: `hls-${nonNativeTrack.kind}${i}`,\n        src: init?.url,\n        label: nonNativeTrack.label,\n        language: init?.lang,\n        kind: nonNativeTrack.kind,\n        default: nonNativeTrack.default\n      });\n      track[TextTrackSymbol.M] = 2;\n      track[TextTrackSymbol.Ua] = () => {\n        if (track.mode === \"showing\") {\n          this.g.subtitleTrack = i;\n          currentTrack = i;\n        } else if (currentTrack === i) {\n          this.g.subtitleTrack = -1;\n          currentTrack = -1;\n        }\n      };\n      this.b.textTracks.add(track, event);\n    }\n  }\n  Xg(eventType, data) {\n    const track = this.b.textTracks.getById(`hls-${data.track}`);\n    if (!track)\n      return;\n    const event = new DOMEvent(eventType, { detail: data });\n    for (const cue of data.cues) {\n      cue.positionAlign = \"auto\";\n      track.addCue(cue, event);\n    }\n  }\n  Tg(eventType, data) {\n    const track = this.b.audioTracks[data.id];\n    if (track) {\n      const trigger = new DOMEvent(eventType, { detail: data });\n      this.b.audioTracks[ListSymbol.pa](track, true, trigger);\n    }\n  }\n  Ug(eventType, data) {\n    const quality = this.b.qualities[data.level];\n    if (quality) {\n      const trigger = new DOMEvent(eventType, { detail: data });\n      this.b.qualities[ListSymbol.pa](quality, true, trigger);\n    }\n  }\n  Vg(eventType, data) {\n    if (this.b.$state.canPlay())\n      return;\n    const { type, live, totalduration: duration, targetduration } = data.details, trigger = new DOMEvent(eventType, { detail: data });\n    this.b.delegate.c(\n      \"stream-type-change\",\n      live ? type === \"EVENT\" && Number.isFinite(duration) && targetduration >= 10 ? \"live:dvr\" : \"live\" : \"on-demand\",\n      trigger\n    );\n    this.b.delegate.c(\"duration-change\", duration, trigger);\n    const media = this.g.media;\n    if (this.g.currentLevel === -1) {\n      this.b.qualities[QualitySymbol.Ya](true, trigger);\n    }\n    for (const remoteTrack of this.g.audioTracks) {\n      const localTrack = {\n        id: remoteTrack.id.toString(),\n        label: remoteTrack.name,\n        language: remoteTrack.lang || \"\",\n        kind: \"main\"\n      };\n      this.b.audioTracks[ListSymbol.oa](localTrack, trigger);\n    }\n    for (const level of this.g.levels) {\n      const videoQuality = {\n        id: level.id?.toString() ?? level.height + \"p\",\n        width: level.width,\n        height: level.height,\n        codec: level.codecSet,\n        bitrate: level.bitrate\n      };\n      this.b.qualities[ListSymbol.oa](videoQuality, trigger);\n    }\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger }));\n  }\n  U(eventType, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case \"networkError\":\n          this.Ck(data.error);\n          break;\n        case \"mediaError\":\n          this.g?.recoverMediaError();\n          break;\n        default:\n          this.Ak(data.error);\n          break;\n      }\n    }\n  }\n  Bk() {\n    if (this.yk >= 0)\n      this.zk();\n  }\n  Ck(error) {\n    this.zk();\n    this.g?.startLoad();\n    this.yk = window.setTimeout(() => {\n      this.yk = -1;\n      this.Ak(error);\n    }, 5e3);\n  }\n  zk() {\n    clearTimeout(this.yk);\n    this.yk = -1;\n  }\n  Ak(error) {\n    this.g?.destroy();\n    this.g = null;\n    this.b.delegate.c(\"error\", {\n      message: error.message,\n      code: 1,\n      error\n    });\n  }\n  Yg() {\n    if (this.g)\n      this.g.currentLevel = -1;\n  }\n  fb() {\n    const { qualities } = this.b;\n    if (!this.g || qualities.auto)\n      return;\n    this.g[qualities.switch + \"Level\"] = qualities.selectedIndex;\n    if (IS_CHROME)\n      this.m.currentTime = this.m.currentTime;\n  }\n  Zg() {\n    const { audioTracks } = this.b;\n    if (this.g && this.g.audioTrack !== audioTracks.selectedIndex) {\n      this.g.audioTrack = audioTracks.selectedIndex;\n    }\n  }\n  Dk(src) {\n    if (!isString(src.src))\n      return;\n    this.zk();\n    this.g?.loadSource(src.src);\n  }\n  ah() {\n    this.zk();\n    if (this.b)\n      this.b.qualities[QualitySymbol.Za] = void 0;\n    this.g?.destroy();\n    this.g = null;\n    this.nd?.();\n    this.nd = null;\n  }\n}\n\nclass HLSLibLoader {\n  constructor(_lib, _ctx, _callback) {\n    this.W = _lib;\n    this.b = _ctx;\n    this.Ca = _callback;\n    this.bh();\n  }\n  async bh() {\n    const callbacks = {\n      onLoadStart: this.Ea.bind(this),\n      onLoaded: this.qd.bind(this),\n      onLoadError: this.ch.bind(this)\n    };\n    let ctor = await loadHLSScript(this.W, callbacks);\n    if (isUndefined(ctor) && !isString(this.W))\n      ctor = await importHLS(this.W, callbacks);\n    if (!ctor)\n      return null;\n    if (!ctor.isSupported()) {\n      const message = \"[vidstack] `hls.js` is not supported in this environment\";\n      this.b.player.dispatch(new DOMEvent(\"hls-unsupported\"));\n      this.b.delegate.c(\"error\", { message, code: 4 });\n      return null;\n    }\n    return ctor;\n  }\n  Ea() {\n    this.b.player.dispatch(new DOMEvent(\"hls-lib-load-start\"));\n  }\n  qd(ctor) {\n    this.b.player.dispatch(\n      new DOMEvent(\"hls-lib-loaded\", {\n        detail: ctor\n      })\n    );\n    this.Ca(ctor);\n  }\n  ch(e) {\n    const error = coerceToError(e);\n    this.b.player.dispatch(\n      new DOMEvent(\"hls-lib-load-error\", {\n        detail: error\n      })\n    );\n    this.b.delegate.c(\"error\", {\n      message: error.message,\n      code: 4,\n      error\n    });\n  }\n}\nasync function importHLS(loader, callbacks = {}) {\n  if (isUndefined(loader))\n    return void 0;\n  callbacks.onLoadStart?.();\n  if (loader.prototype && loader.prototype !== Function) {\n    callbacks.onLoaded?.(loader);\n    return loader;\n  }\n  try {\n    const ctor = (await loader())?.default;\n    if (ctor && !!ctor.isSupported) {\n      callbacks.onLoaded?.(ctor);\n    } else {\n      throw Error(\n        false ? \"[vidstack] failed importing `hls.js`. Dynamic import returned invalid constructor.\" : \"\"\n      );\n    }\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\nasync function loadHLSScript(src, callbacks = {}) {\n  if (!isString(src))\n    return void 0;\n  callbacks.onLoadStart?.();\n  try {\n    await loadScript(src);\n    if (!isFunction(window.Hls)) {\n      throw Error(\n        false ? \"[vidstack] failed loading `hls.js`. Could not find a valid `Hls` constructor on window\" : \"\"\n      );\n    }\n    const ctor = window.Hls;\n    callbacks.onLoaded?.(ctor);\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\n\nconst JS_DELIVR_CDN = \"https://cdn.jsdelivr.net\";\nclass HLSProvider extends VideoProvider {\n  constructor() {\n    super(...arguments);\n    this.$$PROVIDER_TYPE = \"HLS\";\n    this.Xe = null;\n    this.d = new HLSController(this.video, this.b);\n    this.Gb = `${JS_DELIVR_CDN}/npm/hls.js@^1.5.0/dist/hls${\".min.js\"}`;\n  }\n  /**\n   * The `hls.js` constructor.\n   */\n  get ctor() {\n    return this.Xe;\n  }\n  /**\n   * The current `hls.js` instance.\n   */\n  get instance() {\n    return this.d.instance;\n  }\n  static {\n    /**\n     * Whether `hls.js` is supported in this environment.\n     */\n    this.supported = isHLSSupported();\n  }\n  get type() {\n    return \"hls\";\n  }\n  get canLiveSync() {\n    return true;\n  }\n  /**\n   * The `hls.js` configuration object.\n   *\n   * @see {@link https://github.com/video-dev/hls.js/blob/master/docs/API.md#fine-tuning}\n   */\n  get config() {\n    return this.d.od;\n  }\n  set config(config) {\n    this.d.od = config;\n  }\n  /**\n   * The `hls.js` constructor (supports dynamic imports) or a URL of where it can be found.\n   *\n   * @defaultValue `https://cdn.jsdelivr.net/npm/hls.js@^1.0.0/dist/hls.min.js`\n   */\n  get library() {\n    return this.Gb;\n  }\n  set library(library) {\n    this.Gb = library;\n  }\n  preconnect() {\n    if (!isString(this.Gb))\n      return;\n    preconnect(this.Gb);\n  }\n  setup() {\n    super.setup();\n    new HLSLibLoader(this.Gb, this.b, (ctor) => {\n      this.Xe = ctor;\n      this.d.setup(ctor);\n      this.b.delegate.c(\"provider-setup\", this);\n      const src = peek(this.b.$state.source);\n      if (src)\n        this.loadSource(src);\n    });\n  }\n  async loadSource(src, preload) {\n    if (!isString(src.src))\n      return;\n    this.a.preload = preload || \"\";\n    this.yn(src);\n    this.d.Dk(src);\n    this.V = src;\n  }\n  /**\n   * Append source so it works when requesting AirPlay since hls.js will remove it.\n   */\n  yn(src) {\n    const prevSource = this.video.querySelector(\"source[data-vds]\"), source = prevSource ?? document.createElement(\"source\");\n    setAttribute(source, \"src\", src.src);\n    setAttribute(source, \"type\", \"application/x-mpegurl\");\n    setAttribute(source, \"data-vds\", \"\");\n    if (!prevSource)\n      this.video.append(source);\n  }\n  /**\n   * The given callback is invoked when a new `hls.js` instance is created and right before it's\n   * attached to media.\n   */\n  onInstance(callback) {\n    const instance = this.d.instance;\n    if (instance)\n      callback(instance);\n    this.d.pd.add(callback);\n    return () => this.d.pd.delete(callback);\n  }\n  destroy() {\n    this.d.ah();\n  }\n}\n\nexport { HLSProvider };\n","import { f as isHLSSrc, g as isMediaStream } from '../chunks/vidstack-iVChOPoI.js';\nimport { M as useDisposalBin, e as effect, o as onDispose, l as listenEvent, u as peek, N as isNil, D as DOMEvent, x as createScope, k as setAttribute, r as isString } from '../chunks/vidstack-wnzQJK1n.js';\nimport { R as RAFLoop } from '../chunks/vidstack-XrFM82kz.js';\nimport { g as getNumberOfDecimalPlaces } from '../chunks/vidstack-95QZhtQo.js';\nimport { h as IS_SAFARI } from '../chunks/vidstack-hp24nviz.js';\nimport { L as ListSymbol } from '../chunks/vidstack-WKdrqUlP.js';\n\nclass HTMLMediaEvents {\n  constructor(_provider, _ctx) {\n    this.i = _provider;\n    this.b = _ctx;\n    this.sa = useDisposalBin();\n    this.Cb = false;\n    this.$c = false;\n    this.ad = false;\n    this.Da = new RAFLoop(this.bd.bind(this));\n    this.Qe = void 0;\n    this.Dg = void 0;\n    this.pg();\n    effect(this.qg.bind(this));\n    onDispose(this.cd.bind(this));\n  }\n  get a() {\n    return this.i.media;\n  }\n  get c() {\n    return this.b.delegate.c;\n  }\n  cd() {\n    this.$c = false;\n    this.ad = false;\n    this.Da.ra();\n    this.sa.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  bd() {\n    const newTime = this.a.currentTime;\n    if (this.b.$state.realCurrentTime() !== newTime)\n      this.$a(newTime);\n  }\n  pg() {\n    this.t(\"loadstart\", this.Ea);\n    this.t(\"abort\", this.Pe);\n    this.t(\"emptied\", this.rg);\n    this.t(\"error\", this.U);\n    this.t(\"volumechange\", this.ab);\n  }\n  sg() {\n    if (this.$c)\n      return;\n    this.sa.add(\n      this.t(\"loadeddata\", this.tg),\n      this.t(\"loadedmetadata\", this.ug),\n      this.t(\"canplay\", this.hc),\n      this.t(\"canplaythrough\", this.vg),\n      this.t(\"durationchange\", this.wg),\n      this.t(\"play\", this.xb),\n      this.t(\"progress\", this.ic),\n      this.t(\"stalled\", this.xg),\n      this.t(\"suspend\", this.yg)\n    );\n    this.$c = true;\n  }\n  zg() {\n    if (this.ad)\n      return;\n    this.sa.add(\n      this.t(\"pause\", this.Aa),\n      this.t(\"playing\", this.Ag),\n      this.t(\"ratechange\", this.Bg),\n      this.t(\"seeked\", this.bb),\n      this.t(\"seeking\", this.Cg),\n      this.t(\"ended\", this.Db),\n      this.t(\"waiting\", this.dd)\n    );\n    this.ad = true;\n  }\n  t(eventType, handler) {\n    return listenEvent(\n      this.a,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  Eg(event2) {\n    return;\n  }\n  $a(time, trigger) {\n    const detail = {\n      // Avoid errors where `currentTime` can have higher precision.\n      currentTime: Math.min(time, this.b.$state.seekableEnd()),\n      played: this.a.played\n    };\n    this.c(\"time-update\", detail, trigger);\n  }\n  Ea(event2) {\n    if (this.a.networkState === 3) {\n      this.Pe(event2);\n      return;\n    }\n    this.sg();\n    this.c(\"load-start\", void 0, event2);\n  }\n  Pe(event2) {\n    this.c(\"abort\", void 0, event2);\n  }\n  rg() {\n    this.c(\"emptied\", void 0, event);\n  }\n  tg(event2) {\n    this.c(\"loaded-data\", void 0, event2);\n  }\n  ug(event2) {\n    this.zg();\n    this.c(\"loaded-metadata\", void 0, event2);\n    if (IS_SAFARI && isHLSSrc(this.b.$state.source())) {\n      this.b.delegate.jc(this.ed(), event2);\n    }\n  }\n  ed() {\n    return {\n      provider: peek(this.b.$provider),\n      duration: this.a.duration,\n      buffered: this.a.buffered,\n      seekable: this.a.seekable\n    };\n  }\n  xb(event2) {\n    if (!this.b.$state.canPlay)\n      return;\n    this.c(\"play\", void 0, event2);\n  }\n  Aa(event2) {\n    if (this.a.readyState === 1 && !this.Cb)\n      return;\n    this.Cb = false;\n    this.Da.ra();\n    this.c(\"pause\", void 0, event2);\n  }\n  hc(event2) {\n    this.b.delegate.jc(this.ed(), event2);\n  }\n  vg(event2) {\n    if (this.b.$state.started())\n      return;\n    this.c(\"can-play-through\", this.ed(), event2);\n  }\n  Ag(event2) {\n    this.Cb = false;\n    this.c(\"playing\", void 0, event2);\n    this.Da.Bb();\n  }\n  xg(event2) {\n    this.c(\"stalled\", void 0, event2);\n    if (this.a.readyState < 3) {\n      this.Cb = true;\n      this.c(\"waiting\", void 0, event2);\n    }\n  }\n  dd(event2) {\n    if (this.a.readyState < 3) {\n      this.Cb = true;\n      this.c(\"waiting\", void 0, event2);\n    }\n  }\n  Db(event2) {\n    this.Da.ra();\n    this.$a(this.a.duration, event2);\n    this.c(\"end\", void 0, event2);\n    if (this.b.$state.loop()) {\n      const hasCustomControls = isNil(this.a.controls);\n      if (hasCustomControls)\n        this.a.controls = false;\n    }\n  }\n  qg() {\n    if (this.b.$state.paused()) {\n      listenEvent(this.a, \"timeupdate\", this.Eb.bind(this));\n    }\n  }\n  Eb(event2) {\n    this.$a(this.a.currentTime, event2);\n  }\n  wg(event2) {\n    if (this.b.$state.ended()) {\n      this.$a(this.a.duration, event2);\n    }\n    this.c(\"duration-change\", this.a.duration, event2);\n  }\n  ab(event2) {\n    const detail = {\n      volume: this.a.volume,\n      muted: this.a.muted\n    };\n    this.c(\"volume-change\", detail, event2);\n  }\n  bb(event2) {\n    this.$a(this.a.currentTime, event2);\n    this.c(\"seeked\", this.a.currentTime, event2);\n    if (Math.trunc(this.a.currentTime) === Math.trunc(this.a.duration) && getNumberOfDecimalPlaces(this.a.duration) > getNumberOfDecimalPlaces(this.a.currentTime)) {\n      this.$a(this.a.duration, event2);\n      if (!this.a.ended) {\n        this.b.player.dispatch(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  Cg(event2) {\n    this.c(\"seeking\", this.a.currentTime, event2);\n  }\n  ic(event2) {\n    const detail = {\n      buffered: this.a.buffered,\n      seekable: this.a.seekable\n    };\n    this.c(\"progress\", detail, event2);\n  }\n  yg(event2) {\n    this.c(\"suspend\", void 0, event2);\n  }\n  Bg(event2) {\n    this.c(\"rate-change\", this.a.playbackRate, event2);\n  }\n  U(event2) {\n    const error = this.a.error;\n    if (!error)\n      return;\n    const detail = {\n      message: error.message,\n      code: error.code,\n      mediaError: error\n    };\n    this.c(\"error\", detail, event2);\n  }\n}\n\nclass NativeAudioTracks {\n  constructor(_provider, _ctx) {\n    this.i = _provider;\n    this.b = _ctx;\n    this.Fb.onaddtrack = this.Fg.bind(this);\n    this.Fb.onremovetrack = this.Gg.bind(this);\n    this.Fb.onchange = this.Hg.bind(this);\n    listenEvent(this.b.audioTracks, \"change\", this.Ig.bind(this));\n  }\n  get Fb() {\n    return this.i.media.audioTracks;\n  }\n  Fg(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const audioTrack = {\n      id: _track.id.toString(),\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.b.audioTracks[ListSymbol.oa](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  Gg(event) {\n    const track = this.b.audioTracks.getById(event.track.id);\n    if (track)\n      this.b.audioTracks[ListSymbol.Yb](track, event);\n  }\n  Hg(event) {\n    let enabledTrack = this.Re();\n    if (!enabledTrack)\n      return;\n    const track = this.b.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.b.audioTracks[ListSymbol.pa](track, true, event);\n  }\n  Re() {\n    return Array.from(this.Fb).find((track) => track.enabled);\n  }\n  Ig(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.Fb.getTrackById(current.id);\n    if (track) {\n      const prev = this.Re();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nclass HTMLMediaProvider {\n  constructor(_media, _ctx) {\n    this.a = _media;\n    this.b = _ctx;\n    this.scope = createScope();\n    this.V = null;\n  }\n  setup() {\n    new HTMLMediaEvents(this, this.b);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, this.b);\n    onDispose(() => {\n      this.a.setAttribute(\"src\", \"\");\n      this.a.load();\n    });\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.a;\n  }\n  get currentSrc() {\n    return this.V;\n  }\n  setPlaybackRate(rate) {\n    this.a.playbackRate = rate;\n  }\n  async play() {\n    return this.a.play();\n  }\n  async pause() {\n    return this.a.pause();\n  }\n  setMuted(muted) {\n    this.a.muted = muted;\n  }\n  setVolume(volume) {\n    this.a.volume = volume;\n  }\n  setCurrentTime(time) {\n    this.a.currentTime = time;\n  }\n  setPlaysInline(inline) {\n    setAttribute(this.a, \"playsinline\", inline);\n  }\n  async loadSource({ src, type }, preload) {\n    this.a.preload = preload || \"\";\n    if (isMediaStream(src)) {\n      this.a.srcObject = src;\n    } else {\n      this.a.srcObject = null;\n      this.a.src = isString(src) ? this.Ik(src) : window.URL.createObjectURL(src);\n    }\n    this.a.load();\n    this.V = {\n      src,\n      type\n    };\n  }\n  Ik(src) {\n    const { clipStartTime, clipEndTime } = this.b.$state, startTime = clipStartTime(), endTime = clipEndTime();\n    if (startTime > 0 && endTime > 0) {\n      return `${src}#t=${startTime},${endTime}`;\n    } else if (startTime > 0) {\n      return `${src}#t=${startTime}`;\n    } else if (endTime > 0) {\n      return `${src}#t=0,${endTime}`;\n    }\n    return src;\n  }\n}\n\nexport { HTMLMediaProvider };\n","import { o as onDispose, l as listenEvent, D as DOMEvent, m as signal, e as effect, s as scoped } from '../chunks/vidstack-wnzQJK1n.js';\nimport { e as canUsePictureInPicture, f as canUseVideoPresentation, c as canPlayHLSNatively } from '../chunks/vidstack-hp24nviz.js';\nimport { HTMLMediaProvider } from './vidstack-html.js';\nimport { T as TextTrack, b as TextTrackSymbol } from '../chunks/vidstack-heAoL83T.js';\nimport '../chunks/vidstack-iVChOPoI.js';\nimport '../chunks/vidstack-XrFM82kz.js';\nimport '../chunks/vidstack-95QZhtQo.js';\nimport '../chunks/vidstack-WKdrqUlP.js';\n\nclass NativeHLSTextTracks {\n  constructor(_video, _ctx) {\n    this.m = _video;\n    this.b = _ctx;\n    _video.textTracks.onaddtrack = this.Wc.bind(this);\n    onDispose(this.cd.bind(this));\n  }\n  Wc(event) {\n    const nativeTrack = event.track;\n    if (!nativeTrack || findTextTrackElement(this.m, nativeTrack))\n      return;\n    const track = new TextTrack({\n      id: nativeTrack.id,\n      kind: nativeTrack.kind,\n      label: nativeTrack.label,\n      language: nativeTrack.language,\n      type: \"vtt\"\n    });\n    track[TextTrackSymbol.T] = { track: nativeTrack };\n    track[TextTrackSymbol.M] = 2;\n    track[TextTrackSymbol.te] = true;\n    let lastIndex = 0;\n    const onCueChange = (event2) => {\n      if (!nativeTrack.cues)\n        return;\n      for (let i = lastIndex; i < nativeTrack.cues.length; i++) {\n        track.addCue(nativeTrack.cues[i], event2);\n        lastIndex++;\n      }\n    };\n    onCueChange(event);\n    nativeTrack.oncuechange = onCueChange;\n    this.b.textTracks.add(track, event);\n    track.setMode(nativeTrack.mode, event);\n  }\n  cd() {\n    this.m.textTracks.onaddtrack = null;\n    for (const track of this.b.textTracks) {\n      const nativeTrack = track[TextTrackSymbol.T]?.track;\n      if (nativeTrack?.oncuechange)\n        nativeTrack.oncuechange = null;\n    }\n  }\n}\nfunction findTextTrackElement(video, track) {\n  return Array.from(video.children).find((el) => el.track === track);\n}\n\nclass VideoPictureInPicture {\n  constructor(_video, _media) {\n    this.m = _video;\n    this.a = _media;\n    this.B = (active, event) => {\n      this.a.delegate.c(\"picture-in-picture-change\", active, event);\n    };\n    listenEvent(this.m, \"enterpictureinpicture\", this.Jg.bind(this));\n    listenEvent(this.m, \"leavepictureinpicture\", this.Kg.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this.m;\n  }\n  get supported() {\n    return canUsePictureInPicture(this.m);\n  }\n  async enter() {\n    return this.m.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  Jg(event) {\n    this.B(true, event);\n  }\n  Kg(event) {\n    this.B(false, event);\n  }\n}\n\nclass VideoPresentation {\n  constructor(_video, _media) {\n    this.m = _video;\n    this.a = _media;\n    this.I = \"inline\";\n    listenEvent(this.m, \"webkitpresentationmodechanged\", this.Ua.bind(this));\n  }\n  get Se() {\n    return canUseVideoPresentation(this.m);\n  }\n  async kc(mode) {\n    if (this.I === mode)\n      return;\n    this.m.webkitSetPresentationMode(mode);\n  }\n  Ua(event) {\n    const prevMode = this.I;\n    this.I = this.m.webkitPresentationMode;\n    this.a.player?.dispatch(\n      new DOMEvent(\"video-presentation-change\", {\n        detail: this.I,\n        trigger: event\n      })\n    );\n    [\"fullscreen\", \"picture-in-picture\"].forEach((type) => {\n      if (this.I === type || prevMode === type) {\n        this.a.delegate.c(`${type}-change`, this.I === type, event);\n      }\n    });\n  }\n}\nclass FullscreenPresentationAdapter {\n  constructor(_presentation) {\n    this.fa = _presentation;\n  }\n  get active() {\n    return this.fa.I === \"fullscreen\";\n  }\n  get supported() {\n    return this.fa.Se;\n  }\n  async enter() {\n    this.fa.kc(\"fullscreen\");\n  }\n  async exit() {\n    this.fa.kc(\"inline\");\n  }\n}\nclass PIPPresentationAdapter {\n  constructor(_presentation) {\n    this.fa = _presentation;\n  }\n  get active() {\n    return this.fa.I === \"picture-in-picture\";\n  }\n  get supported() {\n    return this.fa.Se;\n  }\n  async enter() {\n    this.fa.kc(\"picture-in-picture\");\n  }\n  async exit() {\n    this.fa.kc(\"inline\");\n  }\n}\n\nclass VideoRemotePlaybackAdapter {\n  constructor(_video, _ctx) {\n    this.m = _video;\n    this.b = _ctx;\n    this.Se = signal(false);\n    this.Hm();\n  }\n  get supported() {\n    return this.Se();\n  }\n  Hm() {\n    if (!this.m.remote || !this.sl)\n      return;\n    this.m.remote.watchAvailability((available) => {\n      this.Se.set(available);\n    }).catch(() => {\n      this.Se.set(false);\n    });\n    effect(this.rn.bind(this));\n  }\n  rn() {\n    if (!this.Se())\n      return;\n    const events = [\"connecting\", \"connect\", \"disconnect\"], onStateChange = this.Rg.bind(this);\n    onStateChange();\n    listenEvent(this.m, \"playing\", onStateChange);\n    for (const type of events) {\n      listenEvent(this.m.remote, type, onStateChange);\n    }\n  }\n  async prompt() {\n    if (!this.supported)\n      throw Error(\"Not supported on this platform.\");\n    if (this.vb === \"airplay\" && this.m.webkitShowPlaybackTargetPicker) {\n      return this.m.webkitShowPlaybackTargetPicker();\n    }\n    return this.m.remote.prompt();\n  }\n  Rg(event) {\n    const state = this.m.remote.state;\n    if (state === this.mc)\n      return;\n    const detail = { type: this.vb, state };\n    this.b.delegate.c(\"remote-playback-change\", detail, event);\n    this.mc = state;\n  }\n}\nclass VideoAirPlayAdapter extends VideoRemotePlaybackAdapter {\n  constructor() {\n    super(...arguments);\n    this.vb = \"airplay\";\n  }\n  get sl() {\n    return \"WebKitPlaybackTargetAvailabilityEvent\" in window;\n  }\n}\n\nclass VideoProvider extends HTMLMediaProvider {\n  constructor(video, ctx) {\n    super(video, ctx);\n    this.$$PROVIDER_TYPE = \"VIDEO\";\n    scoped(() => {\n      this.airPlay = new VideoAirPlayAdapter(video, ctx);\n      if (canUseVideoPresentation(video)) {\n        const presentation = new VideoPresentation(video, ctx);\n        this.fullscreen = new FullscreenPresentationAdapter(presentation);\n        this.pictureInPicture = new PIPPresentationAdapter(presentation);\n      } else if (canUsePictureInPicture(video)) {\n        this.pictureInPicture = new VideoPictureInPicture(video, ctx);\n      }\n    }, this.scope);\n  }\n  get type() {\n    return \"video\";\n  }\n  setup() {\n    super.setup();\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, this.b);\n    }\n    this.b.textRenderers.Fe(this.video);\n    onDispose(() => {\n      this.b.textRenderers.Fe(null);\n    });\n    if (this.type === \"video\")\n      this.b.delegate.c(\"provider-setup\", this);\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this.a;\n  }\n}\n\nexport { VideoProvider };\n"],"names":["RAFLoop","constructor","_callback","this","Ca","Bb","isUndefined","ca","Oe","ra","isNumber","window","cancelAnimationFrame","requestAnimationFrame","HLSController","_video","_ctx","m","b","g","nd","od","pd","Set","yk","instance","setup","ctor","streamType","$state","isLive","peek","includes","isLiveLowLatency","lowLatencyMode","backBufferLength","renderTextTracksNatively","dispatcher","Sg","bind","event","Object","values","Events","on","ERROR","U","callback","player","dispatch","detail","attachMedia","FRAG_LOADING","Bk","AUDIO_TRACK_SWITCHED","Tg","LEVEL_SWITCHED","Ug","LEVEL_LOADED","Vg","NON_NATIVE_TEXT_TRACKS_FOUND","Wg","CUES_PARSED","Xg","qualities","QualitySymbol","Za","Yg","listenEvent","fb","audioTracks","Zg","effect","_g","live","raf","$g","_this$g$liveSyncPosit","_this$g","liveSyncPosition","set","Infinity","eventType","_this$b$player","type","DOMEvent","camelToKebabCase","data","currentTrack","i","tracks","length","_nonNativeTrack$subti","nonNativeTrack","init","subtitleTrack","closedCaptions","track","TextTrack","id","concat","kind","src","url","label","language","lang","default","TextTrackSymbol","M","Ua","mode","textTracks","add","getById","cue","cues","positionAlign","addCue","trigger","ListSymbol","pa","quality","level","canPlay","totalduration","duration","targetduration","details","delegate","c","Number","isFinite","media","currentLevel","Ya","remoteTrack","localTrack","toString","name","oa","levels","_level$id$toString","_level$id","videoQuality","height","width","codec","codecSet","bitrate","dispatchEvent","_this$g2","fatal","Ck","error","recoverMediaError","Ak","zk","_this$g3","startLoad","setTimeout","clearTimeout","_this$g4","destroy","message","code","auto","switch","selectedIndex","IS_CHROME","currentTime","audioTrack","Dk","_this$g5","isString","loadSource","ah","_this$g6","_this$nd","call","HLSLibLoader","_lib","W","bh","callbacks","onLoadStart","Ea","onLoaded","qd","onLoadError","ch","async","_callbacks$onLoadStar2","arguments","undefined","_callbacks$onLoaded3","loadScript","isFunction","Hls","Error","err","_callbacks$onLoadErro2","loadHLSScript","loader","_callbacks$onLoadStar","prototype","Function","_callbacks$onLoaded","_await$loader","isSupported","_callbacks$onLoaded2","_callbacks$onLoadErro","importHLS","e","coerceToError","HLSProvider","VideoProvider","super","$$PROVIDER_TYPE","Xe","d","video","Gb","canLiveSync","config","library","preconnect","source","preload","a","yn","V","prevSource","querySelector","document","createElement","setAttribute","append","onInstance","delete","supported","isHLSSupported","HTMLMediaEvents","_provider","sa","useDisposalBin","Cb","$c","ad","Da","bd","Qe","Dg","pg","qg","onDispose","cd","empty","newTime","realCurrentTime","$a","t","Pe","rg","ab","sg","tg","ug","hc","vg","wg","xb","ic","xg","yg","zg","Aa","Ag","Bg","bb","Cg","Db","dd","handler","Eg","event2","time","Math","min","seekableEnd","played","networkState","IS_SAFARI","isHLSSrc","jc","ed","provider","$provider","buffered","seekable","readyState","started","loop","isNil","controls","paused","Eb","ended","volume","muted","trunc","getNumberOfDecimalPlaces","playbackRate","mediaError","NativeAudioTracks","Fb","onaddtrack","Fg","onremovetrack","Gg","onchange","Hg","Ig","_track","selected","enabled","Yb","enabledTrack","Re","Array","from","find","current","getTrackById","prev","HTMLMediaProvider","_media","scope","createScope","load","currentSrc","setPlaybackRate","rate","play","pause","setMuted","setVolume","setCurrentTime","setPlaysInline","inline","_ref","isMediaStream","srcObject","Ik","URL","createObjectURL","clipStartTime","clipEndTime","startTime","endTime","NativeHLSTextTracks","Wc","nativeTrack","children","el","findTextTrackElement","T","te","lastIndex","onCueChange","oncuechange","setMode","_track$TextTrackSymbo","VideoPictureInPicture","B","active","Jg","Kg","pictureInPictureElement","canUsePictureInPicture","enter","requestPictureInPicture","exit","exitPictureInPicture","VideoPresentation","I","Se","canUseVideoPresentation","kc","webkitSetPresentationMode","_this$a$player","prevMode","webkitPresentationMode","forEach","FullscreenPresentationAdapter","_presentation","fa","PIPPresentationAdapter","VideoRemotePlaybackAdapter","signal","Hm","remote","sl","watchAvailability","available","catch","rn","events","onStateChange","Rg","prompt","vb","webkitShowPlaybackTargetPicker","state","mc","VideoAirPlayAdapter","ctx","scoped","airPlay","presentation","fullscreen","pictureInPicture","canPlayHLSNatively","textRenderers","Fe"],"sourceRoot":""}